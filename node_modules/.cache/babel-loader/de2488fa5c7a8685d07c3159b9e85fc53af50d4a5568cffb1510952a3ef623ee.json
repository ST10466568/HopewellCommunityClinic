{"ast":null,"code":"import _objectSpread from\"C:/Project/HopewellClinic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'./ui/card';import{Button}from'./ui/button';import{Badge}from'./ui/badge';import{Input}from'./ui/input';import{Label}from'./ui/label';import{doctorAPI,staffAPI,adminAPI}from'../services/api';import BookingWizard from'./BookingWizard';import AppointmentManagement from'./AppointmentManagement';import{Calendar,Users,CheckCircle,XCircle,AlertCircle,User,FileText,Settings,LogOut,Plus,BarChart3,UserPlus,Shield,Activity,UserCog,CalendarDays}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminDashboard=_ref=>{let{user,users,appointments,services,isLoading,isProcessing,error,onToggleUserStatus,onUpdateUserRole,onCreateStaff,onCreateService,onUpdateService,onDeleteService,onRefreshAppointments,onApproveAppointment,onRejectAppointment,onLogout}=_ref;const[activeTab,setActiveTab]=useState('overview');const[showCreateStaffModal,setShowCreateStaffModal]=useState(false);const[showCreatePatientModal,setShowCreatePatientModal]=useState(false);const[showWalkInModal,setShowWalkInModal]=useState(false);const[showBookingWizard,setShowBookingWizard]=useState(false);const[selectedPatientId,setSelectedPatientId]=useState(null);const[showServiceModal,setShowServiceModal]=useState(false);const[editingService,setEditingService]=useState(null);// Doctor schedule management states\nconst[showDoctorScheduleModal,setShowDoctorScheduleModal]=useState(false);const[selectedDoctor,setSelectedDoctor]=useState(null);const[allDoctors,setAllDoctors]=useState([]);const[doctorShiftSchedule,setDoctorShiftSchedule]=useState([]);const[newShiftSchedule,setNewShiftSchedule]=useState([]);const[isLoadingDoctors,setIsLoadingDoctors]=useState(false);const[isUpdatingSchedule,setIsUpdatingSchedule]=useState(false);const[newStaffData,setNewStaffData]=useState({email:'',password:'',firstName:'',lastName:'',role:'doctor',phone:''});// Pagination and search state\nconst[searchTerm,setSearchTerm]=useState('');const[selectedRole,setSelectedRole]=useState('all');const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage]=useState(10);const[newPatientData,setNewPatientData]=useState({email:'',password:'',firstName:'',lastName:'',phone:'',dateOfBirth:'',address:'',emergencyContact:'',emergencyPhone:''});const[serviceData,setServiceData]=useState({name:'',description:'',durationMinutes:30,price:0});// Days of the week for shift schedule\nconst daysOfWeek=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];// Load all doctors for admin to manage\nconst loadDoctors=async()=>{try{setIsLoadingDoctors(true);const response=await staffAPI.getAll();const doctorUsers=response.filter(user=>user.role==='doctor');setAllDoctors(doctorUsers);console.log('📋 Loaded doctors for admin:',doctorUsers);}catch(error){console.error('❌ Error loading doctors:',error);// Fallback: try to get doctors from users list\nconst doctorUsers=users.filter(user=>user.role==='doctor');setAllDoctors(doctorUsers);}finally{setIsLoadingDoctors(false);}};// Load doctor's current shift schedule\nconst loadDoctorShiftSchedule=async doctorId=>{try{console.log('🔍 Loading shift schedule for doctor:',doctorId);// Try admin-specific endpoint first\ntry{const schedule=await adminAPI.getDoctorShiftSchedule(doctorId);// Ensure schedule is an array\nconst scheduleArray=Array.isArray(schedule)?schedule:[];setDoctorShiftSchedule(scheduleArray);setNewShiftSchedule(scheduleArray);console.log('✅ Loaded shift schedule via admin endpoint:',scheduleArray);return;}catch(adminError){console.log('⚠️ Admin endpoint failed, trying doctor endpoint...');// Try doctor endpoint as fallback\ntry{const schedule=await doctorAPI.getShiftSchedule(doctorId);// Ensure schedule is an array\nconst scheduleArray=Array.isArray(schedule)?schedule:[];setDoctorShiftSchedule(scheduleArray);setNewShiftSchedule(scheduleArray);console.log('✅ Loaded shift schedule via doctor endpoint:',scheduleArray);return;}catch(doctorError){console.log('⚠️ Doctor endpoint failed, trying public endpoint...');// Try public endpoint as final fallback\ntry{const publicSchedule=await doctorAPI.getShiftSchedulePublic(doctorId);// Ensure schedule is an array\nconst scheduleArray=Array.isArray(publicSchedule)?publicSchedule:[];setDoctorShiftSchedule(scheduleArray);setNewShiftSchedule(scheduleArray);console.log('✅ Loaded schedule from public endpoint:',scheduleArray);return;}catch(publicError){console.error('❌ All endpoints failed:',publicError);throw publicError;}}}}catch(error){console.error('❌ Error loading shift schedule:',error);// Initialize with default schedule if all fail\nconst defaultSchedule=daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)}));setDoctorShiftSchedule(defaultSchedule);setNewShiftSchedule(defaultSchedule);}};// Update doctor's shift schedule\nconst updateDoctorShiftSchedule=async()=>{if(!selectedDoctor)return;try{setIsUpdatingSchedule(true);console.log('🔄 Updating shift schedule for doctor:',selectedDoctor.id);console.log('📅 New schedule:',newShiftSchedule);// Try admin-specific endpoint first\ntry{await adminAPI.updateDoctorShiftSchedule(selectedDoctor.id,newShiftSchedule);setDoctorShiftSchedule(newShiftSchedule);console.log('✅ Shift schedule updated successfully via admin endpoint');// Close modal after successful update\nsetShowDoctorScheduleModal(false);setSelectedDoctor(null);return;}catch(adminError){console.log('⚠️ Admin endpoint failed, trying doctor endpoint...');// Try doctor endpoint as fallback\ntry{await doctorAPI.updateShiftSchedule(selectedDoctor.id,newShiftSchedule);setDoctorShiftSchedule(newShiftSchedule);console.log('✅ Shift schedule updated successfully via doctor endpoint');// Close modal after successful update\nsetShowDoctorScheduleModal(false);setSelectedDoctor(null);return;}catch(doctorError){console.log('⚠️ Doctor endpoint failed, trying public endpoint...');// Try public endpoint as final fallback\ntry{await doctorAPI.updateShiftSchedulePublic(selectedDoctor.id,newShiftSchedule);setDoctorShiftSchedule(newShiftSchedule);console.log('✅ Shift schedule updated successfully via public endpoint');// Close modal after successful update\nsetShowDoctorScheduleModal(false);setSelectedDoctor(null);return;}catch(publicError){console.error('❌ All endpoints failed:',publicError);throw publicError;}}}}catch(error){console.error('❌ Error updating shift schedule:',error);// Check if it's an authentication error\nif(error&&typeof error==='object'&&'response'in error&&error.response&&typeof error.response==='object'&&'status'in error.response&&error.response.status===401){console.log('⚠️ Authentication failed - admin may not have proper permissions');console.log('💡 Schedule changes will be saved locally but not persisted to database');// Still update local state for immediate feedback\nsetDoctorShiftSchedule(newShiftSchedule);// Show user-friendly message\nalert('Schedule updated locally, but could not save to database. Please check admin permissions.');// Close modal after local update\nsetShowDoctorScheduleModal(false);setSelectedDoctor(null);}else{// For other errors, still update local state\nsetDoctorShiftSchedule(newShiftSchedule);// Close modal after local update\nsetShowDoctorScheduleModal(false);setSelectedDoctor(null);}}finally{setIsUpdatingSchedule(false);}};// Handle doctor selection for schedule management\nconst handleDoctorSelection=async doctor=>{setSelectedDoctor(doctor);setShowDoctorScheduleModal(true);await loadDoctorShiftSchedule(doctor.id);};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};const formatTime=timeString=>{return new Date(\"2000-01-01T\".concat(timeString)).toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true});};// Load doctors when component mounts or when schedule tab is active\nuseEffect(()=>{if(activeTab==='schedule'){loadDoctors();}},[activeTab]);// Update newShiftSchedule when modal opens to ensure it has current data\nuseEffect(()=>{if(showDoctorScheduleModal&&selectedDoctor){// Ensure doctorShiftSchedule is an array\nconst scheduleArray=Array.isArray(doctorShiftSchedule)?doctorShiftSchedule:[];if(scheduleArray.length>0){setNewShiftSchedule(scheduleArray);}else{// Use defaults when no schedule exists\nsetNewShiftSchedule(daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)})));}}},[showDoctorScheduleModal,selectedDoctor,doctorShiftSchedule]);const getStatusBadge=status=>{const statusConfig={confirmed:{variant:'default',icon:CheckCircle,className:'bg-green-100 text-green-800'},pending:{variant:'secondary',icon:AlertCircle,className:'bg-yellow-100 text-yellow-800'},cancelled:{variant:'destructive',icon:XCircle,className:'bg-red-100 text-red-800'},completed:{variant:'outline',icon:CheckCircle,className:'bg-blue-100 text-blue-800'}};const config=statusConfig[status]||statusConfig.pending;const Icon=config.icon;return/*#__PURE__*/_jsxs(Badge,{variant:config.variant,className:config.className,children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3 w-3 mr-1\"}),status.charAt(0).toUpperCase()+status.slice(1)]});};const handleCreateStaff=async e=>{e.preventDefault();await onCreateStaff(newStaffData);setShowCreateStaffModal(false);setNewStaffData({email:'',password:'',firstName:'',lastName:'',role:'doctor',phone:''});};const handleInputChange=e=>{const{name,value}=e.target;setNewStaffData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handlePatientInputChange=e=>{const{name,value}=e.target;setNewPatientData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleCreatePatient=async e=>{e.preventDefault();await onCreateStaff(_objectSpread(_objectSpread({},newPatientData),{},{role:'patient'// Set role as 'patient' for patients\n}));setShowCreatePatientModal(false);setNewPatientData({email:'',password:'',firstName:'',lastName:'',phone:'',dateOfBirth:'',address:'',emergencyContact:'',emergencyPhone:''});};const handleWalkInBooking=()=>{setShowWalkInModal(true);};const handlePatientSelection=patientId=>{setSelectedPatientId(patientId);setShowWalkInModal(false);setShowBookingWizard(true);};const handleBookingSuccess=()=>{setShowBookingWizard(false);setSelectedPatientId(null);// Refresh data if needed\n};const activeUsers=users.filter(u=>u.isActive);const doctors=users.filter(u=>u.role==='doctor'&&u.isActive);const patients=users.filter(u=>u.role==='patient'&&u.isActive);const todayAppointments=appointments.filter(apt=>new Date(apt.appointmentDate).toDateString()===new Date().toDateString());// Filter and pagination logic for user management\nconst filteredUsers=users.filter(user=>{const matchesSearch=searchTerm===''||user.firstName.toLowerCase().includes(searchTerm.toLowerCase())||user.lastName.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase());const matchesRole=selectedRole==='all'||user.role===selectedRole;return matchesSearch&&matchesRole;});const totalPages=Math.ceil(filteredUsers.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const paginatedUsers=filteredUsers.slice(startIndex,endIndex);// Reset to first page when search or filter changes\nReact.useEffect(()=>{setCurrentPage(1);},[searchTerm,selectedRole]);const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handleRoleFilterChange=e=>{setSelectedRole(e.target.value);};const handlePageChange=page=>{setCurrentPage(page);};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-background flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"Loading admin dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-background\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-card border-b border-border\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-foreground text-xl\",children:\"\\uD83D\\uDC9A\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-foreground\",children:\"Hopewell Community Clinic\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:\"Admin Dashboard\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-foreground\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:user.email})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:onLogout,children:[/*#__PURE__*/_jsx(LogOut,{className:\"h-4 w-4 mr-2\"}),\"Sign Out\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 mb-8 bg-muted p-1 rounded-lg w-fit\",children:[{id:'overview',label:'Overview',icon:BarChart3},{id:'users',label:'User Management',icon:Users},{id:'appointments',label:'Appointments',icon:Calendar},{id:'services',label:'Service Management',icon:Settings},{id:'schedule',label:'Doctor Schedules',icon:CalendarDays},{id:'reports',label:'Reports',icon:BarChart3},{id:'staff',label:'Staff Management',icon:UserPlus}].map(_ref2=>{let{id,label,icon:Icon}=_ref2;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(id),className:\"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors \".concat(activeTab===id?'bg-background text-foreground shadow-sm':'text-muted-foreground hover:text-foreground'),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:label})]},id);})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-destructive text-sm\",children:error})}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Total Users\"}),/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:activeUsers.length}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-muted-foreground\",children:[users.length-activeUsers.length,\" inactive\"]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Doctors\"}),/*#__PURE__*/_jsx(Shield,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:doctors.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:\"Active medical staff\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Patients\"}),/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:patients.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:\"Registered patients\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Today's Appointments\"}),/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:todayAppointments.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:\"Scheduled today\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Recent Activity\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Latest system activity and updates\"})]}),/*#__PURE__*/_jsx(CardContent,{children:appointments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Activity,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No recent activity\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:appointments.slice(0,5).map(appointment=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[appointment.patient.firstName,\" \",appointment.patient.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[formatDate(appointment.appointmentDate),\" at \",formatTime(appointment.startTime)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:appointment.service.name}),appointment.staff&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"With Dr. \",appointment.staff.firstName,\" \",appointment.staff.lastName]})]}),getStatusBadge(appointment.status)]}),appointment.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3 inline mr-1\"}),appointment.notes]})]},appointment.id))})})]})]}),activeTab==='users'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"All System Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowCreateStaffModal(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-4 w-4 mr-2\"}),\"Add Staff Member\"]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowCreatePatientModal(true),variant:\"outline\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-4 w-4 mr-2\"}),\"Add Patient\"]})]})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Manage all users in the system - both staff members and patients\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"search-users\",children:\"Search Users\"}),/*#__PURE__*/_jsx(Input,{id:\"search-users\",type:\"text\",placeholder:\"Search by name or email...\",value:searchTerm,onChange:handleSearchChange,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:w-48\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"filter-role\",children:\"Filter by Role\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filter-role\",value:selectedRole,onChange:handleRoleFilterChange,className:\"w-full h-10 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"doctor\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nurse\",children:\"Nurse\"}),/*#__PURE__*/_jsx(\"option\",{value:\"patient\",children:\"Patient\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-muted-foreground\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Showing \",startIndex+1,\"-\",Math.min(endIndex,filteredUsers.length),\" of \",filteredUsers.length,\" users\",searchTerm&&\" matching \\\"\".concat(searchTerm,\"\\\"\"),selectedRole!=='all'&&\" with role \\\"\".concat(selectedRole,\"\\\"\")]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",currentPage,\" of \",totalPages]})]})]}),filteredUsers.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:searchTerm||selectedRole!=='all'?'No users found matching your criteria':'No users found'}),(searchTerm||selectedRole!=='all')&&/*#__PURE__*/_jsx(Button,{variant:\"outline\",className:\"mt-4\",onClick:()=>{setSearchTerm('');setSelectedRole('all');},children:\"Clear Filters\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[paginatedUsers.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsx(Badge,{variant:user.role==='admin'?'destructive':user.role==='doctor'?'default':user.role==='nurse'?'secondary':'outline',className:user.role==='patient'?'text-green-600 border-green-600':'',children:user.role.charAt(0).toUpperCase()+user.role.slice(1)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[\"Created: \",new Date(user.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsx(Badge,{variant:user.isActive?'default':'secondary',children:user.isActive?'Active':'Inactive'}),user.phone&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[\"Phone: \",user.phone]})]}),user.dateOfBirth&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground mt-1\",children:[\"DOB: \",new Date(user.dateOfBirth).toLocaleDateString()]}),user.address&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground mt-1\",children:[\"Address: \",user.address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>onToggleUserStatus(user.id,!user.isActive),disabled:isProcessing,children:user.isActive?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(XCircle,{className:\"h-4 w-4 mr-1\"}),\"Deactivate\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 mr-1\"}),\"Activate\"]})}),user.role!=='admin'&&/*#__PURE__*/_jsxs(\"select\",{value:user.role,onChange:e=>onUpdateUserRole(user.id,e.target.value),className:\"px-2 py-1 text-sm border rounded\",disabled:isProcessing,children:[/*#__PURE__*/_jsx(\"option\",{value:\"patient\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"option\",{value:\"doctor\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nurse\",children:\"Nurse\"})]})]})]})},user.id)),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mt-6\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handlePageChange(currentPage-1),disabled:currentPage===1,children:\"Previous\"}),Array.from({length:totalPages},(_,i)=>i+1).map(page=>{// Show first page, last page, current page, and pages around current page\nif(page===1||page===totalPages||page>=currentPage-1&&page<=currentPage+1){return/*#__PURE__*/_jsx(Button,{variant:page===currentPage?\"default\":\"outline\",size:\"sm\",onClick:()=>handlePageChange(page),className:\"w-10\",children:page},page);}else if(page===currentPage-2||page===currentPage+2){return/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground\",children:\"...\"},page);}return null;}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handlePageChange(currentPage+1),disabled:currentPage===totalPages,children:\"Next\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Total Staff\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:users.filter(u=>['admin','doctor','nurse'].includes(u.role)).length})]})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-green-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Total Patients\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:users.filter(u=>u.role==='patient').length})]})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 text-purple-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:users.length})]})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Active Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:users.filter(u=>u.isActive).length})]})]})})})]})]})]})]})}),activeTab==='appointments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",children:\"Appointment Management\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:handleWalkInBooking,children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Book Walk-in Appointment\"]})]}),/*#__PURE__*/_jsx(AppointmentManagement,{appointments:appointments,onRefresh:onRefreshAppointments,onApproveAppointment:onApproveAppointment,onRejectAppointment:onRejectAppointment})]}),activeTab==='staff'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Staff Management\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowCreateStaffModal(true),children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Staff Member\"]})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Create and manage clinic staff members\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:doctors.map(doctor=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[\"Dr. \",doctor.firstName,\" \",doctor.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:doctor.email}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Role: \",doctor.role,\" \\u2022 Created: \",new Date(doctor.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Badge,{variant:doctor.isActive?\"default\":\"secondary\",children:doctor.isActive?\"Active\":\"Inactive\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline\",onClick:()=>onToggleUserStatus(doctor.id,!doctor.isActive),disabled:isProcessing,children:doctor.isActive?\"Deactivate\":\"Activate\"})]})]})},doctor.id))})})]})}),activeTab==='services'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Service Management\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowServiceModal(true),children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Service\"]})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Manage clinic services and pricing\"})]}),/*#__PURE__*/_jsx(CardContent,{children:services.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No services found\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:services.map(service=>{const appointmentsUsingService=appointments.filter(apt=>apt.service.id===service.id);const isServiceInUse=appointmentsUsingService.length>0;return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-foreground\",children:service.name}),isServiceInUse&&/*#__PURE__*/_jsxs(Badge,{variant:\"secondary\",className:\"bg-yellow-100 text-yellow-800\",children:[appointmentsUsingService.length,\" appointment(s)\"]})]}),service.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground mt-1\",children:service.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Duration: \",service.durationMinutes,\" minutes\"]}),service.price&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Price: $\",service.price]})]}),isServiceInUse&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-600 mt-2\",children:\"\\u26A0\\uFE0F This service cannot be deleted because it's being used by existing appointments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline\",onClick:()=>{setEditingService(service);setServiceData({name:service.name,description:service.description||'',durationMinutes:service.durationMinutes,price:service.price||0});setShowServiceModal(true);},disabled:isProcessing,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"destructive\",onClick:()=>onDeleteService(service.id),disabled:isProcessing||isServiceInUse,title:isServiceInUse?\"Cannot delete service with existing appointments\":\"Delete service\",children:\"Delete\"})]})]})},service.id);})})})]})}),activeTab==='schedule'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CalendarDays,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Doctor Schedule Management\"})]})}),/*#__PURE__*/_jsx(CardDescription,{children:\"Manage shift schedules for all doctors in the clinic\"})]}),/*#__PURE__*/_jsx(CardContent,{children:isLoadingDoctors?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground mt-2\",children:\"Loading doctors...\"})]}):allDoctors.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(UserCog,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No doctors found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground mt-2\",children:\"Create doctor accounts first to manage their schedules\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:allDoctors.map(doctor=>/*#__PURE__*/_jsx(Card,{className:\"hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsx(CardContent,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-lg\",children:[\"Dr. \",doctor.firstName,\" \",doctor.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:doctor.email}),/*#__PURE__*/_jsx(Badge,{variant:doctor.isActive?\"default\":\"secondary\",className:\"mt-2\",children:doctor.isActive?\"Active\":\"Inactive\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>handleDoctorSelection(doctor),size:\"sm\",className:\"ml-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-4 w-4 mr-1\"}),\"Manage Schedule\"]})]})})},doctor.id))})})})]})}),activeTab==='reports'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Appointment Statistics\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Overview of appointment trends\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:\"Total Appointments\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:appointments.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:\"Confirmed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-600\",children:appointments.filter(apt=>apt.status==='confirmed').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-yellow-600\",children:appointments.filter(apt=>apt.status==='pending').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-red-600\",children:appointments.filter(apt=>apt.status==='cancelled').length})]})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Service Usage\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Most popular services\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:services.map(service=>{const usageCount=appointments.filter(apt=>apt.service.id===service.id).length;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:service.name}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:usageCount})]},service.id);})})})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Revenue Report\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Financial overview and trends\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-green-600\",children:[\"$\",appointments.filter(apt=>apt.status==='confirmed'||apt.status==='completed').reduce((total,apt)=>total+(apt.service.price||0),0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:\"This Month\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",appointments.filter(apt=>{const aptDate=new Date(apt.appointmentDate);const now=new Date();return aptDate.getMonth()===now.getMonth()&&aptDate.getFullYear()===now.getFullYear()&&(apt.status==='confirmed'||apt.status==='completed');}).reduce((total,apt)=>total+(apt.service.price||0),0).toFixed(2)]})]})]})})]})]})]}),showCreateStaffModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Add Staff Member\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Create a new staff member account\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateStaff,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(Input,{id:\"firstName\",name:\"firstName\",value:newStaffData.firstName,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(Input,{id:\"lastName\",name:\"lastName\",value:newStaffData.lastName,onChange:handleInputChange,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",name:\"email\",type:\"email\",value:newStaffData.email,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{id:\"password\",name:\"password\",type:\"password\",value:newStaffData.password,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(Input,{id:\"phone\",name:\"phone\",value:newStaffData.phone,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"role\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"role\",name:\"role\",value:newStaffData.role,onChange:handleInputChange,className:\"w-full h-10 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"doctor\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nurse\",children:\"Nurse\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",className:\"flex-1\",onClick:()=>setShowCreateStaffModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"flex-1\",disabled:isProcessing,children:isProcessing?'Creating...':'Create Staff'})]})]})})]})}),showServiceModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:editingService?'Edit Service':'Add New Service'}),/*#__PURE__*/_jsx(CardDescription,{children:editingService?'Update service information':'Create a new clinic service'})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:async e=>{e.preventDefault();if(editingService){await onUpdateService(editingService.id,serviceData);}else{await onCreateService(serviceData);}setShowServiceModal(false);setEditingService(null);setServiceData({name:'',description:'',durationMinutes:30,price:0});},className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"serviceName\",children:\"Service Name\"}),/*#__PURE__*/_jsx(Input,{id:\"serviceName\",value:serviceData.name,onChange:e=>setServiceData(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"serviceDescription\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"serviceDescription\",value:serviceData.description,onChange:e=>setServiceData(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"w-full h-20 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none\",placeholder:\"Service description...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"durationMinutes\",children:\"Duration (minutes)\"}),/*#__PURE__*/_jsx(Input,{id:\"durationMinutes\",type:\"number\",min:\"15\",max:\"240\",step:\"15\",value:serviceData.durationMinutes,onChange:e=>setServiceData(prev=>_objectSpread(_objectSpread({},prev),{},{durationMinutes:parseInt(e.target.value)})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"price\",children:\"Price ($)\"}),/*#__PURE__*/_jsx(Input,{id:\"price\",type:\"number\",min:\"0\",step:\"0.01\",value:serviceData.price,onChange:e=>setServiceData(prev=>_objectSpread(_objectSpread({},prev),{},{price:parseFloat(e.target.value)}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",className:\"flex-1\",onClick:()=>{setShowServiceModal(false);setEditingService(null);setServiceData({name:'',description:'',durationMinutes:30,price:0});},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"flex-1\",disabled:isProcessing,children:isProcessing?'Saving...':editingService?'Update Service':'Create Service'})]})]})})]})}),showCreatePatientModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Add New Patient\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Create a new patient account\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreatePatient,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(Input,{id:\"firstName\",name:\"firstName\",value:newPatientData.firstName,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(Input,{id:\"lastName\",name:\"lastName\",value:newPatientData.lastName,onChange:handlePatientInputChange,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",name:\"email\",type:\"email\",value:newPatientData.email,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{id:\"password\",name:\"password\",type:\"password\",value:newPatientData.password,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(Input,{id:\"phone\",name:\"phone\",value:newPatientData.phone,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"dateOfBirth\",children:\"Date of Birth\"}),/*#__PURE__*/_jsx(Input,{id:\"dateOfBirth\",name:\"dateOfBirth\",type:\"date\",value:newPatientData.dateOfBirth,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"address\",children:\"Address\"}),/*#__PURE__*/_jsx(Input,{id:\"address\",name:\"address\",value:newPatientData.address,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"emergencyContact\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsx(Input,{id:\"emergencyContact\",name:\"emergencyContact\",value:newPatientData.emergencyContact,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"emergencyPhone\",children:\"Emergency Phone\"}),/*#__PURE__*/_jsx(Input,{id:\"emergencyPhone\",name:\"emergencyPhone\",value:newPatientData.emergencyPhone,onChange:handlePatientInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",className:\"flex-1\",onClick:()=>setShowCreatePatientModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"flex-1\",disabled:isProcessing,children:isProcessing?'Creating...':'Create Patient'})]})]})})]})}),showWalkInModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Select Patient for Walk-in Appointment\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Choose the patient to book an appointment for\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[patients.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(User,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No patients found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground mt-2\",children:\"Create a patient first using the \\\"Add Patient\\\" button\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:patients.map(patient=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors cursor-pointer\",onClick:()=>handlePatientSelection(patient.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[patient.firstName,\" \",patient.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:patient.email})]}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline\",children:\"Select\"})]})},patient.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3 pt-4\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",className:\"flex-1\",onClick:()=>setShowWalkInModal(false),children:\"Cancel\"})})]})})]})}),showDoctorScheduleModal&&selectedDoctor&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-4xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CalendarDays,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Manage Schedule - Dr. \",selectedDoctor.firstName,\" \",selectedDoctor.lastName]})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Set the weekly shift schedule for this doctor\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{const weekdaysSchedule=daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)}));setNewShiftSchedule(weekdaysSchedule);},children:\"Set Weekdays (9-5)\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{const allDaysSchedule=daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:true}));setNewShiftSchedule(allDaysSchedule);},children:\"Set All Days (9-5)\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{const clearedSchedule=daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:false}));setNewShiftSchedule(clearedSchedule);},children:\"Clear All\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{const defaultSchedule=daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)}));setNewShiftSchedule(defaultSchedule);},children:\"Reset to Defaults\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:(Array.isArray(newShiftSchedule)?newShiftSchedule:[]).map((shift,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-4 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24\",children:/*#__PURE__*/_jsx(Label,{className:\"font-medium\",children:shift.dayOfWeek})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Input,{type:\"time\",value:shift.startTime,onChange:e=>{const updatedSchedule=[...newShiftSchedule];updatedSchedule[index].startTime=e.target.value;setNewShiftSchedule(updatedSchedule);},className:\"w-32\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground\",children:\"to\"}),/*#__PURE__*/_jsx(Input,{type:\"time\",value:shift.endTime,onChange:e=>{const updatedSchedule=[...newShiftSchedule];updatedSchedule[index].endTime=e.target.value;setNewShiftSchedule(updatedSchedule);},className:\"w-32\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"active-\".concat(shift.dayOfWeek),checked:shift.isActive,onChange:e=>{const updatedSchedule=[...newShiftSchedule];updatedSchedule[index].isActive=e.target.checked;setNewShiftSchedule(updatedSchedule);},className:\"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"active-\".concat(shift.dayOfWeek),className:\"text-sm\",children:\"Available\"})]})]},shift.dayOfWeek))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",className:\"flex-1\",onClick:()=>{setShowDoctorScheduleModal(false);setSelectedDoctor(null);},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:updateDoctorShiftSchedule,className:\"flex-1\",disabled:isUpdatingSchedule,children:isUpdatingSchedule?'Updating...':'Update Schedule'})]})]})})]})}),showBookingWizard&&selectedPatientId&&/*#__PURE__*/_jsx(BookingWizard,{isOpen:showBookingWizard,onClose:()=>{setShowBookingWizard(false);setSelectedPatientId(null);},onSuccess:handleBookingSuccess,services:services,patientId:selectedPatientId})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","Badge","Input","Label","doctorAPI","staffAPI","adminAPI","BookingWizard","AppointmentManagement","Calendar","Users","CheckCircle","XCircle","AlertCircle","User","FileText","Settings","LogOut","Plus","BarChart3","UserPlus","Shield","Activity","UserCog","CalendarDays","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","_ref","user","users","appointments","services","isLoading","isProcessing","error","onToggleUserStatus","onUpdateUserRole","onCreateStaff","onCreateService","onUpdateService","onDeleteService","onRefreshAppointments","onApproveAppointment","onRejectAppointment","onLogout","activeTab","setActiveTab","showCreateStaffModal","setShowCreateStaffModal","showCreatePatientModal","setShowCreatePatientModal","showWalkInModal","setShowWalkInModal","showBookingWizard","setShowBookingWizard","selectedPatientId","setSelectedPatientId","showServiceModal","setShowServiceModal","editingService","setEditingService","showDoctorScheduleModal","setShowDoctorScheduleModal","selectedDoctor","setSelectedDoctor","allDoctors","setAllDoctors","doctorShiftSchedule","setDoctorShiftSchedule","newShiftSchedule","setNewShiftSchedule","isLoadingDoctors","setIsLoadingDoctors","isUpdatingSchedule","setIsUpdatingSchedule","newStaffData","setNewStaffData","email","password","firstName","lastName","role","phone","searchTerm","setSearchTerm","selectedRole","setSelectedRole","currentPage","setCurrentPage","itemsPerPage","newPatientData","setNewPatientData","dateOfBirth","address","emergencyContact","emergencyPhone","serviceData","setServiceData","name","description","durationMinutes","price","daysOfWeek","loadDoctors","response","getAll","doctorUsers","filter","console","log","loadDoctorShiftSchedule","doctorId","schedule","getDoctorShiftSchedule","scheduleArray","Array","isArray","adminError","getShiftSchedule","doctorError","publicSchedule","getShiftSchedulePublic","publicError","defaultSchedule","map","day","dayOfWeek","startTime","endTime","isActive","includes","updateDoctorShiftSchedule","id","updateShiftSchedule","updateShiftSchedulePublic","status","alert","handleDoctorSelection","doctor","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","formatTime","timeString","concat","toLocaleTimeString","hour","minute","hour12","length","getStatusBadge","statusConfig","confirmed","variant","icon","className","pending","cancelled","completed","config","Icon","children","charAt","toUpperCase","slice","handleCreateStaff","e","preventDefault","handleInputChange","value","target","prev","_objectSpread","handlePatientInputChange","handleCreatePatient","handleWalkInBooking","handlePatientSelection","patientId","handleBookingSuccess","activeUsers","u","doctors","patients","todayAppointments","apt","appointmentDate","toDateString","filteredUsers","matchesSearch","toLowerCase","matchesRole","totalPages","Math","ceil","startIndex","endIndex","paginatedUsers","handleSearchChange","handleRoleFilterChange","handlePageChange","page","onClick","label","_ref2","appointment","patient","service","staff","notes","htmlFor","type","placeholder","onChange","min","createdAt","size","disabled","from","_","i","onRefresh","appointmentsUsingService","isServiceInUse","title","usageCount","reduce","total","toFixed","aptDate","now","getMonth","getFullYear","onSubmit","required","max","step","parseInt","parseFloat","weekdaysSchedule","allDaysSchedule","clearedSchedule","shift","index","updatedSchedule","checked","isOpen","onClose","onSuccess"],"sources":["C:/Project/HopewellClinic/src/components/AdminDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Badge } from './ui/badge';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { appointmentsAPI, doctorAPI, staffAPI, adminAPI } from '../services/api';\nimport BookingWizard from './BookingWizard';\nimport AppointmentManagement from './AppointmentManagement';\nimport { \n  Calendar, \n  Clock, \n  Users, \n  CheckCircle, \n  XCircle, \n  AlertCircle, \n  User, \n  FileText, \n  Settings,\n  LogOut,\n  Plus,\n  Eye,\n  Check,\n  X,\n  BarChart3,\n  UserPlus,\n  Shield,\n  Activity,\n  UserCog,\n  CalendarDays\n} from 'lucide-react';\n\ninterface User {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n}\n\ninterface AdminUser {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n  isActive: boolean;\n  createdAt: string;\n  phone?: string;\n  dateOfBirth?: string;\n  address?: string;\n  emergencyContact?: string;\n  emergencyPhone?: string;\n}\n\ninterface Appointment {\n  id: string;\n  appointmentDate: string;\n  startTime: string;\n  endTime: string;\n  status: string;\n  notes?: string;\n  patient: {\n    id: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n  };\n  service: {\n    id: string;\n    name: string;\n    durationMinutes: number;\n    price?: number;\n  };\n  staff?: {\n    id: string;\n    firstName: string;\n    lastName: string;\n  };\n}\n\ninterface Service {\n  id: string;\n  name: string;\n  description?: string;\n  durationMinutes: number;\n  price?: number;\n}\n\ninterface Doctor {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  role: string;\n  isActive: boolean;\n  createdAt?: string;\n}\n\ninterface ShiftSchedule {\n  dayOfWeek: string;\n  startTime: string;\n  endTime: string;\n  isActive: boolean;\n}\n\ninterface AdminDashboardProps {\n  user: User;\n  users: AdminUser[];\n  appointments: Appointment[];\n  services: Service[];\n  isLoading: boolean;\n  isProcessing: boolean;\n  error: string;\n  onToggleUserStatus: (userId: string, isActive: boolean) => Promise<void>;\n  onUpdateUserRole: (userId: string, newRole: string) => Promise<void>;\n  onCreateStaff: (staffData: any) => Promise<void>;\n  onCreateService: (serviceData: any) => Promise<void>;\n  onUpdateService: (serviceId: string, serviceData: any) => Promise<void>;\n  onDeleteService: (serviceId: string) => Promise<void>;\n  onRefreshAppointments: () => void;\n  onApproveAppointment: (appointmentId: string) => Promise<void>;\n  onRejectAppointment: (appointmentId: string, reason: string) => Promise<void>;\n  onLogout: () => void;\n}\n\nconst AdminDashboard: React.FC<AdminDashboardProps> = ({\n  user,\n  users,\n  appointments,\n  services,\n  isLoading,\n  isProcessing,\n  error,\n  onToggleUserStatus,\n  onUpdateUserRole,\n  onCreateStaff,\n  onCreateService,\n  onUpdateService,\n  onDeleteService,\n  onRefreshAppointments,\n  onApproveAppointment,\n  onRejectAppointment,\n  onLogout\n}) => {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [showCreateStaffModal, setShowCreateStaffModal] = useState(false);\n  const [showCreatePatientModal, setShowCreatePatientModal] = useState(false);\n  const [showWalkInModal, setShowWalkInModal] = useState(false);\n  const [showBookingWizard, setShowBookingWizard] = useState(false);\n  const [selectedPatientId, setSelectedPatientId] = useState<string | null>(null);\n  const [showServiceModal, setShowServiceModal] = useState(false);\n  const [editingService, setEditingService] = useState<any>(null);\n  \n  // Doctor schedule management states\n  const [showDoctorScheduleModal, setShowDoctorScheduleModal] = useState(false);\n  const [selectedDoctor, setSelectedDoctor] = useState<Doctor | null>(null);\n  const [allDoctors, setAllDoctors] = useState<Doctor[]>([]);\n  const [doctorShiftSchedule, setDoctorShiftSchedule] = useState<ShiftSchedule[]>([]);\n  const [newShiftSchedule, setNewShiftSchedule] = useState<ShiftSchedule[]>([]);\n  const [isLoadingDoctors, setIsLoadingDoctors] = useState(false);\n  const [isUpdatingSchedule, setIsUpdatingSchedule] = useState(false);\n  const [newStaffData, setNewStaffData] = useState({\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    role: 'doctor',\n    phone: ''\n  });\n\n  // Pagination and search state\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedRole, setSelectedRole] = useState('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(10);\n  const [newPatientData, setNewPatientData] = useState({\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    phone: '',\n    dateOfBirth: '',\n    address: '',\n    emergencyContact: '',\n    emergencyPhone: ''\n  });\n  const [serviceData, setServiceData] = useState({\n    name: '',\n    description: '',\n    durationMinutes: 30,\n    price: 0\n  });\n\n  // Days of the week for shift schedule\n  const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n  // Load all doctors for admin to manage\n  const loadDoctors = async () => {\n    try {\n      setIsLoadingDoctors(true);\n      const response = await staffAPI.getAll();\n      const doctorUsers = response.filter((user: any) => user.role === 'doctor');\n      setAllDoctors(doctorUsers);\n      console.log('📋 Loaded doctors for admin:', doctorUsers);\n    } catch (error) {\n      console.error('❌ Error loading doctors:', error);\n      // Fallback: try to get doctors from users list\n      const doctorUsers = users.filter(user => user.role === 'doctor');\n      setAllDoctors(doctorUsers);\n    } finally {\n      setIsLoadingDoctors(false);\n    }\n  };\n\n  // Load doctor's current shift schedule\n  const loadDoctorShiftSchedule = async (doctorId: string) => {\n    try {\n      console.log('🔍 Loading shift schedule for doctor:', doctorId);\n      \n      // Try admin-specific endpoint first\n      try {\n        const schedule = await adminAPI.getDoctorShiftSchedule(doctorId);\n        // Ensure schedule is an array\n        const scheduleArray = Array.isArray(schedule) ? schedule : [];\n        setDoctorShiftSchedule(scheduleArray);\n        setNewShiftSchedule(scheduleArray);\n        console.log('✅ Loaded shift schedule via admin endpoint:', scheduleArray);\n        return;\n      } catch (adminError) {\n        console.log('⚠️ Admin endpoint failed, trying doctor endpoint...');\n        \n        // Try doctor endpoint as fallback\n        try {\n          const schedule = await doctorAPI.getShiftSchedule(doctorId);\n          // Ensure schedule is an array\n          const scheduleArray = Array.isArray(schedule) ? schedule : [];\n          setDoctorShiftSchedule(scheduleArray);\n          setNewShiftSchedule(scheduleArray);\n          console.log('✅ Loaded shift schedule via doctor endpoint:', scheduleArray);\n          return;\n        } catch (doctorError) {\n          console.log('⚠️ Doctor endpoint failed, trying public endpoint...');\n          \n          // Try public endpoint as final fallback\n          try {\n            const publicSchedule = await doctorAPI.getShiftSchedulePublic(doctorId);\n            // Ensure schedule is an array\n            const scheduleArray = Array.isArray(publicSchedule) ? publicSchedule : [];\n            setDoctorShiftSchedule(scheduleArray);\n            setNewShiftSchedule(scheduleArray);\n            console.log('✅ Loaded schedule from public endpoint:', scheduleArray);\n            return;\n          } catch (publicError) {\n            console.error('❌ All endpoints failed:', publicError);\n            throw publicError;\n          }\n        }\n      }\n    } catch (error) {\n      console.error('❌ Error loading shift schedule:', error);\n      \n      // Initialize with default schedule if all fail\n      const defaultSchedule = daysOfWeek.map(day => ({\n        dayOfWeek: day,\n        startTime: '09:00',\n        endTime: '17:00',\n        isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n      }));\n      setDoctorShiftSchedule(defaultSchedule);\n      setNewShiftSchedule(defaultSchedule);\n    }\n  };\n\n  // Update doctor's shift schedule\n  const updateDoctorShiftSchedule = async () => {\n    if (!selectedDoctor) return;\n    \n    try {\n      setIsUpdatingSchedule(true);\n      console.log('🔄 Updating shift schedule for doctor:', selectedDoctor.id);\n      console.log('📅 New schedule:', newShiftSchedule);\n      \n      // Try admin-specific endpoint first\n      try {\n        await adminAPI.updateDoctorShiftSchedule(selectedDoctor.id, newShiftSchedule);\n        setDoctorShiftSchedule(newShiftSchedule);\n        console.log('✅ Shift schedule updated successfully via admin endpoint');\n        \n        // Close modal after successful update\n        setShowDoctorScheduleModal(false);\n        setSelectedDoctor(null);\n        return;\n      } catch (adminError) {\n        console.log('⚠️ Admin endpoint failed, trying doctor endpoint...');\n        \n        // Try doctor endpoint as fallback\n        try {\n          await doctorAPI.updateShiftSchedule(selectedDoctor.id, newShiftSchedule);\n          setDoctorShiftSchedule(newShiftSchedule);\n          console.log('✅ Shift schedule updated successfully via doctor endpoint');\n          \n          // Close modal after successful update\n          setShowDoctorScheduleModal(false);\n          setSelectedDoctor(null);\n          return;\n        } catch (doctorError) {\n          console.log('⚠️ Doctor endpoint failed, trying public endpoint...');\n          \n          // Try public endpoint as final fallback\n          try {\n            await doctorAPI.updateShiftSchedulePublic(selectedDoctor.id, newShiftSchedule);\n            setDoctorShiftSchedule(newShiftSchedule);\n            console.log('✅ Shift schedule updated successfully via public endpoint');\n            \n            // Close modal after successful update\n            setShowDoctorScheduleModal(false);\n            setSelectedDoctor(null);\n            return;\n          } catch (publicError) {\n            console.error('❌ All endpoints failed:', publicError);\n            throw publicError;\n          }\n        }\n      }\n    } catch (error) {\n      console.error('❌ Error updating shift schedule:', error);\n      \n      // Check if it's an authentication error\n      if (error && typeof error === 'object' && 'response' in error && \n          error.response && typeof error.response === 'object' && \n          'status' in error.response && error.response.status === 401) {\n        console.log('⚠️ Authentication failed - admin may not have proper permissions');\n        console.log('💡 Schedule changes will be saved locally but not persisted to database');\n        \n        // Still update local state for immediate feedback\n        setDoctorShiftSchedule(newShiftSchedule);\n        \n        // Show user-friendly message\n        alert('Schedule updated locally, but could not save to database. Please check admin permissions.');\n        \n        // Close modal after local update\n        setShowDoctorScheduleModal(false);\n        setSelectedDoctor(null);\n      } else {\n        // For other errors, still update local state\n        setDoctorShiftSchedule(newShiftSchedule);\n        \n        // Close modal after local update\n        setShowDoctorScheduleModal(false);\n        setSelectedDoctor(null);\n      }\n    } finally {\n      setIsUpdatingSchedule(false);\n    }\n  };\n\n  // Handle doctor selection for schedule management\n  const handleDoctorSelection = async (doctor: Doctor) => {\n    setSelectedDoctor(doctor);\n    setShowDoctorScheduleModal(true);\n    await loadDoctorShiftSchedule(doctor.id);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const formatTime = (timeString: string) => {\n    return new Date(`2000-01-01T${timeString}`).toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  // Load doctors when component mounts or when schedule tab is active\n  useEffect(() => {\n    if (activeTab === 'schedule') {\n      loadDoctors();\n    }\n  }, [activeTab]);\n\n  // Update newShiftSchedule when modal opens to ensure it has current data\n  useEffect(() => {\n    if (showDoctorScheduleModal && selectedDoctor) {\n      // Ensure doctorShiftSchedule is an array\n      const scheduleArray = Array.isArray(doctorShiftSchedule) ? doctorShiftSchedule : [];\n      \n      if (scheduleArray.length > 0) {\n        setNewShiftSchedule(scheduleArray);\n      } else {\n        // Use defaults when no schedule exists\n        setNewShiftSchedule(daysOfWeek.map(day => ({\n          dayOfWeek: day,\n          startTime: '09:00',\n          endTime: '17:00',\n          isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n        })));\n      }\n    }\n  }, [showDoctorScheduleModal, selectedDoctor, doctorShiftSchedule]);\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig = {\n      confirmed: { variant: 'default' as const, icon: CheckCircle, className: 'bg-green-100 text-green-800' },\n      pending: { variant: 'secondary' as const, icon: AlertCircle, className: 'bg-yellow-100 text-yellow-800' },\n      cancelled: { variant: 'destructive' as const, icon: XCircle, className: 'bg-red-100 text-red-800' },\n      completed: { variant: 'outline' as const, icon: CheckCircle, className: 'bg-blue-100 text-blue-800' }\n    };\n\n    const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending;\n    const Icon = config.icon;\n\n    return (\n      <Badge variant={config.variant} className={config.className}>\n        <Icon className=\"h-3 w-3 mr-1\" />\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </Badge>\n    );\n  };\n\n  const handleCreateStaff = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await onCreateStaff(newStaffData);\n    setShowCreateStaffModal(false);\n    setNewStaffData({\n      email: '',\n      password: '',\n      firstName: '',\n      lastName: '',\n      role: 'doctor',\n      phone: ''\n    });\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setNewStaffData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handlePatientInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setNewPatientData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleCreatePatient = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await onCreateStaff({\n      ...newPatientData,\n      role: 'patient' // Set role as 'patient' for patients\n    });\n    setShowCreatePatientModal(false);\n    setNewPatientData({\n      email: '',\n      password: '',\n      firstName: '',\n      lastName: '',\n      phone: '',\n      dateOfBirth: '',\n      address: '',\n      emergencyContact: '',\n      emergencyPhone: ''\n    });\n  };\n\n  const handleWalkInBooking = () => {\n    setShowWalkInModal(true);\n  };\n\n  const handlePatientSelection = (patientId: string) => {\n    setSelectedPatientId(patientId);\n    setShowWalkInModal(false);\n    setShowBookingWizard(true);\n  };\n\n  const handleBookingSuccess = () => {\n    setShowBookingWizard(false);\n    setSelectedPatientId(null);\n    // Refresh data if needed\n  };\n\n  const activeUsers = users.filter(u => u.isActive);\n  const doctors = users.filter(u => u.role === 'doctor' && u.isActive);\n  const patients = users.filter(u => u.role === 'patient' && u.isActive);\n  const todayAppointments = appointments.filter(apt => \n    new Date(apt.appointmentDate).toDateString() === new Date().toDateString()\n  );\n\n  // Filter and pagination logic for user management\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = searchTerm === '' || \n      user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = selectedRole === 'all' || user.role === selectedRole;\n    \n    return matchesSearch && matchesRole;\n  });\n\n  const totalPages = Math.ceil(filteredUsers.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const paginatedUsers = filteredUsers.slice(startIndex, endIndex);\n\n  // Reset to first page when search or filter changes\n  React.useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, selectedRole]);\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleRoleFilterChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setSelectedRole(e.target.value);\n  };\n\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading admin dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"bg-card border-b border-border\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\">\n                <span className=\"text-primary-foreground text-xl\">💚</span>\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-foreground\">Hopewell Community Clinic</h1>\n                <p className=\"text-sm text-muted-foreground\">Admin Dashboard</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <p className=\"font-medium text-foreground\">{user.firstName} {user.lastName}</p>\n                <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n              </div>\n              <Button variant=\"outline\" onClick={onLogout}>\n                <LogOut className=\"h-4 w-4 mr-2\" />\n                Sign Out\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Navigation Tabs */}\n        <div className=\"flex space-x-1 mb-8 bg-muted p-1 rounded-lg w-fit\">\n          {[\n            { id: 'overview', label: 'Overview', icon: BarChart3 },\n            { id: 'users', label: 'User Management', icon: Users },\n            { id: 'appointments', label: 'Appointments', icon: Calendar },\n            { id: 'services', label: 'Service Management', icon: Settings },\n            { id: 'schedule', label: 'Doctor Schedules', icon: CalendarDays },\n            { id: 'reports', label: 'Reports', icon: BarChart3 },\n            { id: 'staff', label: 'Staff Management', icon: UserPlus }\n          ].map(({ id, label, icon: Icon }) => (\n            <button\n              key={id}\n              onClick={() => setActiveTab(id)}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${\n                activeTab === id\n                  ? 'bg-background text-foreground shadow-sm'\n                  : 'text-muted-foreground hover:text-foreground'\n              }`}\n            >\n              <Icon className=\"h-4 w-4\" />\n              <span>{label}</span>\n            </button>\n          ))}\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg\">\n            <p className=\"text-destructive text-sm\">{error}</p>\n          </div>\n        )}\n\n        {/* Overview Tab */}\n        {activeTab === 'overview' && (\n          <div className=\"space-y-6\">\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Total Users</CardTitle>\n                  <Users className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{activeUsers.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {users.length - activeUsers.length} inactive\n                  </p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Doctors</CardTitle>\n                  <Shield className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{doctors.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Active medical staff\n                  </p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Patients</CardTitle>\n                  <User className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{patients.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Registered patients\n                  </p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Today's Appointments</CardTitle>\n                  <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{todayAppointments.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Scheduled today\n                  </p>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Recent Activity */}\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <Activity className=\"h-5 w-5 text-primary\" />\n                  <span>Recent Activity</span>\n                </CardTitle>\n                <CardDescription>\n                  Latest system activity and updates\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {appointments.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Activity className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No recent activity</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {appointments.slice(0, 5).map((appointment) => (\n                      <div key={appointment.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <div>\n                            <h4 className=\"font-medium text-foreground\">\n                              {appointment.patient.firstName} {appointment.patient.lastName}\n                            </h4>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {formatDate(appointment.appointmentDate)} at {formatTime(appointment.startTime)}\n                            </p>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {appointment.service.name}\n                            </p>\n                            {appointment.staff && (\n                              <p className=\"text-sm text-muted-foreground\">\n                                With Dr. {appointment.staff.firstName} {appointment.staff.lastName}\n                              </p>\n                            )}\n                          </div>\n                          {getStatusBadge(appointment.status)}\n                        </div>\n                        {appointment.notes && (\n                          <p className=\"text-sm text-muted-foreground\">\n                            <FileText className=\"h-3 w-3 inline mr-1\" />\n                            {appointment.notes}\n                          </p>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Users Tab */}\n        {activeTab === 'users' && (\n          <div className=\"space-y-6\">\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Users className=\"h-5 w-5 text-primary\" />\n                    <span>All System Users</span>\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <Button onClick={() => setShowCreateStaffModal(true)}>\n                      <UserPlus className=\"h-4 w-4 mr-2\" />\n                      Add Staff Member\n                    </Button>\n                    <Button onClick={() => setShowCreatePatientModal(true)} variant=\"outline\">\n                      <UserPlus className=\"h-4 w-4 mr-2\" />\n                      Add Patient\n                    </Button>\n                  </div>\n                </div>\n                <CardDescription>\n                  Manage all users in the system - both staff members and patients\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {/* Search and Filter Controls */}\n                <div className=\"mb-6 space-y-4\">\n                  <div className=\"flex flex-col sm:flex-row gap-4\">\n                    <div className=\"flex-1\">\n                      <Label htmlFor=\"search-users\">Search Users</Label>\n                      <Input\n                        id=\"search-users\"\n                        type=\"text\"\n                        placeholder=\"Search by name or email...\"\n                        value={searchTerm}\n                        onChange={handleSearchChange}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    <div className=\"sm:w-48\">\n                      <Label htmlFor=\"filter-role\">Filter by Role</Label>\n                      <select\n                        id=\"filter-role\"\n                        value={selectedRole}\n                        onChange={handleRoleFilterChange}\n                        className=\"w-full h-10 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n                      >\n                        <option value=\"all\">All Roles</option>\n                        <option value=\"admin\">Admin</option>\n                        <option value=\"doctor\">Doctor</option>\n                        <option value=\"nurse\">Nurse</option>\n                        <option value=\"patient\">Patient</option>\n                      </select>\n                    </div>\n                  </div>\n                  \n                  {/* Results Summary */}\n                  <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n                    <span>\n                      Showing {startIndex + 1}-{Math.min(endIndex, filteredUsers.length)} of {filteredUsers.length} users\n                      {searchTerm && ` matching \"${searchTerm}\"`}\n                      {selectedRole !== 'all' && ` with role \"${selectedRole}\"`}\n                    </span>\n                    <span>\n                      Page {currentPage} of {totalPages}\n                    </span>\n                  </div>\n                </div>\n\n                {filteredUsers.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Users className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">\n                      {searchTerm || selectedRole !== 'all' \n                        ? 'No users found matching your criteria' \n                        : 'No users found'\n                      }\n                    </p>\n                    {(searchTerm || selectedRole !== 'all') && (\n                      <Button \n                        variant=\"outline\" \n                        className=\"mt-4\"\n                        onClick={() => {\n                          setSearchTerm('');\n                          setSelectedRole('all');\n                        }}\n                      >\n                        Clear Filters\n                      </Button>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {/* User List */}\n                    {paginatedUsers.map((user) => (\n                      <div key={user.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <h4 className=\"font-medium text-foreground\">\n                              {user.firstName} {user.lastName}\n                            </h4>\n                            <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n                            <div className=\"flex items-center space-x-4 mt-2\">\n                              <Badge \n                                variant={\n                                  user.role === 'admin' ? 'destructive' : \n                                  user.role === 'doctor' ? 'default' : \n                                  user.role === 'nurse' ? 'secondary' : \n                                  'outline'\n                                }\n                                className={\n                                  user.role === 'patient' ? 'text-green-600 border-green-600' : ''\n                                }\n                              >\n                                {user.role.charAt(0).toUpperCase() + user.role.slice(1)}\n                              </Badge>\n                              <span className=\"text-sm text-muted-foreground\">\n                                Created: {new Date(user.createdAt).toLocaleDateString()}\n                              </span>\n                              <Badge variant={user.isActive ? 'default' : 'secondary'}>\n                                {user.isActive ? 'Active' : 'Inactive'}\n                              </Badge>\n                              {user.phone && (\n                                <span className=\"text-sm text-muted-foreground\">\n                                  Phone: {user.phone}\n                                </span>\n                              )}\n                            </div>\n                            {user.dateOfBirth && (\n                              <p className=\"text-sm text-muted-foreground mt-1\">\n                                DOB: {new Date(user.dateOfBirth).toLocaleDateString()}\n                              </p>\n                            )}\n                            {user.address && (\n                              <p className=\"text-sm text-muted-foreground mt-1\">\n                                Address: {user.address}\n                              </p>\n                            )}\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => onToggleUserStatus(user.id, !user.isActive)}\n                              disabled={isProcessing}\n                            >\n                              {user.isActive ? (\n                                <>\n                                  <XCircle className=\"h-4 w-4 mr-1\" />\n                                  Deactivate\n                                </>\n                              ) : (\n                                <>\n                                  <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                  Activate\n                                </>\n                              )}\n                            </Button>\n                            {user.role !== 'admin' && (\n                              <select\n                                value={user.role}\n                                onChange={(e) => onUpdateUserRole(user.id, e.target.value)}\n                                className=\"px-2 py-1 text-sm border rounded\"\n                                disabled={isProcessing}\n                              >\n                                <option value=\"patient\">Patient</option>\n                                <option value=\"doctor\">Doctor</option>\n                                <option value=\"nurse\">Nurse</option>\n                              </select>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n\n                    {/* Pagination Controls */}\n                    {totalPages > 1 && (\n                      <div className=\"flex items-center justify-center space-x-2 mt-6\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handlePageChange(currentPage - 1)}\n                          disabled={currentPage === 1}\n                        >\n                          Previous\n                        </Button>\n                        \n                        {/* Page Numbers */}\n                        {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => {\n                          // Show first page, last page, current page, and pages around current page\n                          if (\n                            page === 1 ||\n                            page === totalPages ||\n                            (page >= currentPage - 1 && page <= currentPage + 1)\n                          ) {\n                            return (\n                              <Button\n                                key={page}\n                                variant={page === currentPage ? \"default\" : \"outline\"}\n                                size=\"sm\"\n                                onClick={() => handlePageChange(page)}\n                                className=\"w-10\"\n                              >\n                                {page}\n                              </Button>\n                            );\n                          } else if (\n                            page === currentPage - 2 ||\n                            page === currentPage + 2\n                          ) {\n                            return <span key={page} className=\"text-muted-foreground\">...</span>;\n                          }\n                          return null;\n                        })}\n                        \n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handlePageChange(currentPage + 1)}\n                          disabled={currentPage === totalPages}\n                        >\n                          Next\n                        </Button>\n                      </div>\n                    )}\n\n                    {/* Summary Stats */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\">\n                      <Card>\n                        <CardContent className=\"pt-6\">\n                          <div className=\"flex items-center space-x-2\">\n                            <Shield className=\"h-4 w-4 text-blue-600\" />\n                            <div>\n                              <p className=\"text-sm font-medium\">Total Staff</p>\n                              <p className=\"text-2xl font-bold\">{users.filter(u => ['admin', 'doctor', 'nurse'].includes(u.role)).length}</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                      <Card>\n                        <CardContent className=\"pt-6\">\n                          <div className=\"flex items-center space-x-2\">\n                            <User className=\"h-4 w-4 text-green-600\" />\n                            <div>\n                              <p className=\"text-sm font-medium\">Total Patients</p>\n                              <p className=\"text-2xl font-bold\">{users.filter(u => u.role === 'patient').length}</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                      <Card>\n                        <CardContent className=\"pt-6\">\n                          <div className=\"flex items-center space-x-2\">\n                            <Users className=\"h-4 w-4 text-purple-600\" />\n                            <div>\n                              <p className=\"text-sm font-medium\">Total Users</p>\n                              <p className=\"text-2xl font-bold\">{users.length}</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                      <Card>\n                        <CardContent className=\"pt-6\">\n                          <div className=\"flex items-center space-x-2\">\n                            <CheckCircle className=\"h-4 w-4 text-green-600\" />\n                            <div>\n                              <p className=\"text-sm font-medium\">Active Users</p>\n                              <p className=\"text-2xl font-bold\">{users.filter(u => u.isActive).length}</p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Appointments Tab */}\n        {activeTab === 'appointments' && (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2\">\n                <Calendar className=\"h-5 w-5 text-primary\" />\n                <span className=\"text-lg font-semibold\">Appointment Management</span>\n              </div>\n              <Button onClick={handleWalkInBooking}>\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Book Walk-in Appointment\n              </Button>\n            </div>\n            \n            <AppointmentManagement \n              appointments={appointments} \n              onRefresh={onRefreshAppointments}\n              onApproveAppointment={onApproveAppointment}\n              onRejectAppointment={onRejectAppointment}\n            />\n          </div>\n        )}\n\n        {/* Staff Management Tab */}\n        {activeTab === 'staff' && (\n          <div className=\"space-y-6\">\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-2\">\n                    <UserPlus className=\"h-5 w-5 text-primary\" />\n                    <span>Staff Management</span>\n                  </div>\n                  <Button onClick={() => setShowCreateStaffModal(true)}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add Staff Member\n                  </Button>\n                </CardTitle>\n                <CardDescription>\n                  Create and manage clinic staff members\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {doctors.map((doctor) => (\n                    <div key={doctor.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-medium text-foreground\">\n                            Dr. {doctor.firstName} {doctor.lastName}\n                          </h4>\n                          <p className=\"text-sm text-muted-foreground\">{doctor.email}</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            Role: {doctor.role} • Created: {new Date(doctor.createdAt).toLocaleDateString()}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant={doctor.isActive ? \"default\" : \"secondary\"}>\n                            {doctor.isActive ? \"Active\" : \"Inactive\"}\n                          </Badge>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => onToggleUserStatus(doctor.id, !doctor.isActive)}\n                            disabled={isProcessing}\n                          >\n                            {doctor.isActive ? \"Deactivate\" : \"Activate\"}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Service Management Tab */}\n        {activeTab === 'services' && (\n          <div className=\"space-y-6\">\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Settings className=\"h-5 w-5 text-primary\" />\n                    <span>Service Management</span>\n                  </div>\n                  <Button onClick={() => setShowServiceModal(true)}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add Service\n                  </Button>\n                </CardTitle>\n                <CardDescription>\n                  Manage clinic services and pricing\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {services.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Settings className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No services found</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {services.map((service) => {\n                      const appointmentsUsingService = appointments.filter(apt => apt.service.id === service.id);\n                      const isServiceInUse = appointmentsUsingService.length > 0;\n                      \n                      return (\n                        <div key={service.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center space-x-2\">\n                                <h4 className=\"font-medium text-foreground\">{service.name}</h4>\n                                {isServiceInUse && (\n                                  <Badge variant=\"secondary\" className=\"bg-yellow-100 text-yellow-800\">\n                                    {appointmentsUsingService.length} appointment(s)\n                                  </Badge>\n                                )}\n                              </div>\n                              {service.description && (\n                                <p className=\"text-sm text-muted-foreground mt-1\">{service.description}</p>\n                              )}\n                              <div className=\"flex items-center space-x-4 mt-2\">\n                                <p className=\"text-sm text-muted-foreground\">\n                                  Duration: {service.durationMinutes} minutes\n                                </p>\n                                {service.price && (\n                                  <p className=\"text-sm text-muted-foreground\">\n                                    Price: ${service.price}\n                                  </p>\n                                )}\n                              </div>\n                              {isServiceInUse && (\n                                <p className=\"text-xs text-yellow-600 mt-2\">\n                                  ⚠️ This service cannot be deleted because it's being used by existing appointments\n                                </p>\n                              )}\n                            </div>\n                            <div className=\"flex space-x-2\">\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => {\n                                  setEditingService(service);\n                                  setServiceData({\n                                    name: service.name,\n                                    description: service.description || '',\n                                    durationMinutes: service.durationMinutes,\n                                    price: service.price || 0\n                                  });\n                                  setShowServiceModal(true);\n                                }}\n                                disabled={isProcessing}\n                              >\n                                Edit\n                              </Button>\n                              <Button\n                                size=\"sm\"\n                                variant=\"destructive\"\n                                onClick={() => onDeleteService(service.id)}\n                                disabled={isProcessing || isServiceInUse}\n                                title={isServiceInUse ? \"Cannot delete service with existing appointments\" : \"Delete service\"}\n                              >\n                                Delete\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Doctor Schedule Management Tab */}\n        {activeTab === 'schedule' && (\n          <div className=\"space-y-6\">\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-2\">\n                    <CalendarDays className=\"h-5 w-5 text-primary\" />\n                    <span>Doctor Schedule Management</span>\n                  </div>\n                </CardTitle>\n                <CardDescription>\n                  Manage shift schedules for all doctors in the clinic\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {isLoadingDoctors ? (\n                  <div className=\"text-center py-8\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n                    <p className=\"text-muted-foreground mt-2\">Loading doctors...</p>\n                  </div>\n                ) : allDoctors.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <UserCog className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No doctors found</p>\n                    <p className=\"text-sm text-muted-foreground mt-2\">\n                      Create doctor accounts first to manage their schedules\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {allDoctors.map((doctor) => (\n                        <Card key={doctor.id} className=\"hover:shadow-md transition-shadow\">\n                          <CardContent className=\"p-4\">\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <h3 className=\"font-semibold text-lg\">\n                                  Dr. {doctor.firstName} {doctor.lastName}\n                                </h3>\n                                <p className=\"text-sm text-muted-foreground\">{doctor.email}</p>\n                                <Badge \n                                  variant={doctor.isActive ? \"default\" : \"secondary\"}\n                                  className=\"mt-2\"\n                                >\n                                  {doctor.isActive ? \"Active\" : \"Inactive\"}\n                                </Badge>\n                              </div>\n                              <Button\n                                onClick={() => handleDoctorSelection(doctor)}\n                                size=\"sm\"\n                                className=\"ml-2\"\n                              >\n                                <Settings className=\"h-4 w-4 mr-1\" />\n                                Manage Schedule\n                              </Button>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Reports Tab */}\n        {activeTab === 'reports' && (\n          <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Appointment Statistics */}\n              <Card className=\"medical-card\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center space-x-2\">\n                    <BarChart3 className=\"h-5 w-5 text-primary\" />\n                    <span>Appointment Statistics</span>\n                  </CardTitle>\n                  <CardDescription>\n                    Overview of appointment trends\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-muted-foreground\">Total Appointments</span>\n                      <span className=\"font-medium\">{appointments.length}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-muted-foreground\">Confirmed</span>\n                      <span className=\"font-medium text-green-600\">\n                        {appointments.filter(apt => apt.status === 'confirmed').length}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-muted-foreground\">Pending</span>\n                      <span className=\"font-medium text-yellow-600\">\n                        {appointments.filter(apt => apt.status === 'pending').length}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-muted-foreground\">Cancelled</span>\n                      <span className=\"font-medium text-red-600\">\n                        {appointments.filter(apt => apt.status === 'cancelled').length}\n                      </span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Service Usage */}\n              <Card className=\"medical-card\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center space-x-2\">\n                    <Settings className=\"h-5 w-5 text-primary\" />\n                    <span>Service Usage</span>\n                  </CardTitle>\n                  <CardDescription>\n                    Most popular services\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {services.map((service) => {\n                      const usageCount = appointments.filter(apt => apt.service.id === service.id).length;\n                      return (\n                        <div key={service.id} className=\"flex justify-between\">\n                          <span className=\"text-sm text-muted-foreground\">{service.name}</span>\n                          <span className=\"font-medium\">{usageCount}</span>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Revenue Report */}\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <BarChart3 className=\"h-5 w-5 text-primary\" />\n                  <span>Revenue Report</span>\n                </CardTitle>\n                <CardDescription>\n                  Financial overview and trends\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-sm text-muted-foreground\">Total Revenue</span>\n                    <span className=\"font-medium text-green-600\">\n                      ${appointments\n                        .filter(apt => apt.status === 'confirmed' || apt.status === 'completed')\n                        .reduce((total, apt) => total + (apt.service.price || 0), 0)\n                        .toFixed(2)}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-sm text-muted-foreground\">This Month</span>\n                    <span className=\"font-medium\">\n                      ${appointments\n                        .filter(apt => {\n                          const aptDate = new Date(apt.appointmentDate);\n                          const now = new Date();\n                          return aptDate.getMonth() === now.getMonth() && \n                                 aptDate.getFullYear() === now.getFullYear() &&\n                                 (apt.status === 'confirmed' || apt.status === 'completed');\n                        })\n                        .reduce((total, apt) => total + (apt.service.price || 0), 0)\n                        .toFixed(2)}\n                    </span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n\n      {/* Create Staff Modal */}\n      {showCreateStaffModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>Add Staff Member</CardTitle>\n              <CardDescription>\n                Create a new staff member account\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleCreateStaff} className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"firstName\">First Name</Label>\n                    <Input\n                      id=\"firstName\"\n                      name=\"firstName\"\n                      value={newStaffData.firstName}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"lastName\">Last Name</Label>\n                    <Input\n                      id=\"lastName\"\n                      name=\"lastName\"\n                      value={newStaffData.lastName}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={newStaffData.email}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"password\">Password</Label>\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    value={newStaffData.password}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"phone\">Phone</Label>\n                  <Input\n                    id=\"phone\"\n                    name=\"phone\"\n                    value={newStaffData.phone}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"role\">Role</Label>\n                  <select\n                    id=\"role\"\n                    name=\"role\"\n                    value={newStaffData.role}\n                    onChange={handleInputChange}\n                    className=\"w-full h-10 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n                    required\n                  >\n                    <option value=\"doctor\">Doctor</option>\n                    <option value=\"nurse\">Nurse</option>\n                    <option value=\"admin\">Admin</option>\n                  </select>\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => setShowCreateStaffModal(false)}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    className=\"flex-1\"\n                    disabled={isProcessing}\n                  >\n                    {isProcessing ? 'Creating...' : 'Create Staff'}\n                  </Button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Service Management Modal */}\n      {showServiceModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>{editingService ? 'Edit Service' : 'Add New Service'}</CardTitle>\n              <CardDescription>\n                {editingService ? 'Update service information' : 'Create a new clinic service'}\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={async (e) => {\n                e.preventDefault();\n                if (editingService) {\n                  await onUpdateService(editingService.id, serviceData);\n                } else {\n                  await onCreateService(serviceData);\n                }\n                setShowServiceModal(false);\n                setEditingService(null);\n                setServiceData({\n                  name: '',\n                  description: '',\n                  durationMinutes: 30,\n                  price: 0\n                });\n              }} className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"serviceName\">Service Name</Label>\n                  <Input\n                    id=\"serviceName\"\n                    value={serviceData.name}\n                    onChange={(e) => setServiceData(prev => ({ ...prev, name: e.target.value }))}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"serviceDescription\">Description</Label>\n                  <textarea\n                    id=\"serviceDescription\"\n                    value={serviceData.description}\n                    onChange={(e) => setServiceData(prev => ({ ...prev, description: e.target.value }))}\n                    className=\"w-full h-20 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none\"\n                    placeholder=\"Service description...\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"durationMinutes\">Duration (minutes)</Label>\n                  <Input\n                    id=\"durationMinutes\"\n                    type=\"number\"\n                    min=\"15\"\n                    max=\"240\"\n                    step=\"15\"\n                    value={serviceData.durationMinutes}\n                    onChange={(e) => setServiceData(prev => ({ ...prev, durationMinutes: parseInt(e.target.value) }))}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"price\">Price ($)</Label>\n                  <Input\n                    id=\"price\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={serviceData.price}\n                    onChange={(e) => setServiceData(prev => ({ ...prev, price: parseFloat(e.target.value) }))}\n                  />\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => {\n                      setShowServiceModal(false);\n                      setEditingService(null);\n                      setServiceData({\n                        name: '',\n                        description: '',\n                        durationMinutes: 30,\n                        price: 0\n                      });\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    className=\"flex-1\"\n                    disabled={isProcessing}\n                  >\n                    {isProcessing ? 'Saving...' : (editingService ? 'Update Service' : 'Create Service')}\n                  </Button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Create Patient Modal */}\n      {showCreatePatientModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>Add New Patient</CardTitle>\n              <CardDescription>\n                Create a new patient account\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleCreatePatient} className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <Label htmlFor=\"firstName\">First Name</Label>\n                    <Input\n                      id=\"firstName\"\n                      name=\"firstName\"\n                      value={newPatientData.firstName}\n                      onChange={handlePatientInputChange}\n                      required\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"lastName\">Last Name</Label>\n                    <Input\n                      id=\"lastName\"\n                      name=\"lastName\"\n                      value={newPatientData.lastName}\n                      onChange={handlePatientInputChange}\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={newPatientData.email}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"password\">Password</Label>\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    value={newPatientData.password}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"phone\">Phone</Label>\n                  <Input\n                    id=\"phone\"\n                    name=\"phone\"\n                    value={newPatientData.phone}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"dateOfBirth\">Date of Birth</Label>\n                  <Input\n                    id=\"dateOfBirth\"\n                    name=\"dateOfBirth\"\n                    type=\"date\"\n                    value={newPatientData.dateOfBirth}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"address\">Address</Label>\n                  <Input\n                    id=\"address\"\n                    name=\"address\"\n                    value={newPatientData.address}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"emergencyContact\">Emergency Contact</Label>\n                  <Input\n                    id=\"emergencyContact\"\n                    name=\"emergencyContact\"\n                    value={newPatientData.emergencyContact}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"emergencyPhone\">Emergency Phone</Label>\n                  <Input\n                    id=\"emergencyPhone\"\n                    name=\"emergencyPhone\"\n                    value={newPatientData.emergencyPhone}\n                    onChange={handlePatientInputChange}\n                    required\n                  />\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => setShowCreatePatientModal(false)}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    className=\"flex-1\"\n                    disabled={isProcessing}\n                  >\n                    {isProcessing ? 'Creating...' : 'Create Patient'}\n                  </Button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Patient Selection Modal for Walk-in */}\n      {showWalkInModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>Select Patient for Walk-in Appointment</CardTitle>\n              <CardDescription>\n                Choose the patient to book an appointment for\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {patients.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <User className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No patients found</p>\n                    <p className=\"text-sm text-muted-foreground mt-2\">\n                      Create a patient first using the \"Add Patient\" button\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                    {patients.map((patient) => (\n                      <div\n                        key={patient.id}\n                        className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors cursor-pointer\"\n                        onClick={() => handlePatientSelection(patient.id)}\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <h4 className=\"font-medium text-foreground\">\n                              {patient.firstName} {patient.lastName}\n                            </h4>\n                            <p className=\"text-sm text-muted-foreground\">{patient.email}</p>\n                          </div>\n                          <Button size=\"sm\" variant=\"outline\">\n                            Select\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                <div className=\"flex space-x-3 pt-4\">\n                  <Button\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => setShowWalkInModal(false)}\n                  >\n                    Cancel\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Doctor Schedule Management Modal */}\n      {showDoctorScheduleModal && selectedDoctor && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <CalendarDays className=\"h-5 w-5 text-primary\" />\n                <span>Manage Schedule - Dr. {selectedDoctor.firstName} {selectedDoctor.lastName}</span>\n              </CardTitle>\n              <CardDescription>\n                Set the weekly shift schedule for this doctor\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-6\">\n                {/* Quick Action Buttons */}\n                <div className=\"flex flex-wrap gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      const weekdaysSchedule = daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n                      }));\n                      setNewShiftSchedule(weekdaysSchedule);\n                    }}\n                  >\n                    Set Weekdays (9-5)\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      const allDaysSchedule = daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: true\n                      }));\n                      setNewShiftSchedule(allDaysSchedule);\n                    }}\n                  >\n                    Set All Days (9-5)\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      const clearedSchedule = daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: false\n                      }));\n                      setNewShiftSchedule(clearedSchedule);\n                    }}\n                  >\n                    Clear All\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      const defaultSchedule = daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n                      }));\n                      setNewShiftSchedule(defaultSchedule);\n                    }}\n                  >\n                    Reset to Defaults\n                  </Button>\n                </div>\n\n                {/* Schedule Grid */}\n                <div className=\"space-y-4\">\n                  {(Array.isArray(newShiftSchedule) ? newShiftSchedule : []).map((shift, index) => (\n                    <div key={shift.dayOfWeek} className=\"flex items-center space-x-4 p-4 border rounded-lg\">\n                      <div className=\"w-24\">\n                        <Label className=\"font-medium\">{shift.dayOfWeek}</Label>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2\">\n                        <Input\n                          type=\"time\"\n                          value={shift.startTime}\n                          onChange={(e) => {\n                            const updatedSchedule = [...newShiftSchedule];\n                            updatedSchedule[index].startTime = e.target.value;\n                            setNewShiftSchedule(updatedSchedule);\n                          }}\n                          className=\"w-32\"\n                        />\n                        <span className=\"text-muted-foreground\">to</span>\n                        <Input\n                          type=\"time\"\n                          value={shift.endTime}\n                          onChange={(e) => {\n                            const updatedSchedule = [...newShiftSchedule];\n                            updatedSchedule[index].endTime = e.target.value;\n                            setNewShiftSchedule(updatedSchedule);\n                          }}\n                          className=\"w-32\"\n                        />\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2\">\n                        <input\n                          type=\"checkbox\"\n                          id={`active-${shift.dayOfWeek}`}\n                          checked={shift.isActive}\n                          onChange={(e) => {\n                            const updatedSchedule = [...newShiftSchedule];\n                            updatedSchedule[index].isActive = e.target.checked;\n                            setNewShiftSchedule(updatedSchedule);\n                          }}\n                          className=\"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\n                        />\n                        <Label htmlFor={`active-${shift.dayOfWeek}`} className=\"text-sm\">\n                          Available\n                        </Label>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex space-x-3 pt-4 border-t\">\n                  <Button\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => {\n                      setShowDoctorScheduleModal(false);\n                      setSelectedDoctor(null);\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={updateDoctorShiftSchedule}\n                    className=\"flex-1\"\n                    disabled={isUpdatingSchedule}\n                  >\n                    {isUpdatingSchedule ? 'Updating...' : 'Update Schedule'}\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Booking Wizard for Walk-in Appointments */}\n      {showBookingWizard && selectedPatientId && (\n        <BookingWizard\n          isOpen={showBookingWizard}\n          onClose={() => {\n            setShowBookingWizard(false);\n            setSelectedPatientId(null);\n          }}\n          onSuccess={handleBookingSuccess}\n          services={services}\n          patientId={selectedPatientId}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}