{"ast":null,"code":"import _objectSpread from\"C:/Project/HopewellClinic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'./ui/card';import{Button}from'./ui/button';import{Badge}from'./ui/badge';import{Input}from'./ui/input';import{Label}from'./ui/label';import DailySchedule from'./DailySchedule';import{Calendar,Clock,Users,CheckCircle,XCircle,AlertCircle,User,FileText,Settings,LogOut,Plus,Eye,Check,X,History,Search,ChevronLeft,ChevronRight}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DoctorDashboard=_ref=>{let{user,appointments,patients,shiftSchedule,isLoading,isProcessing,error,onApproveAppointment,onRejectAppointment,onUpdateShiftSchedule,onViewPatientDetails,onLogout}=_ref;const[activeTab,setActiveTab]=useState('overview');const[showShiftModal,setShowShiftModal]=useState(false);const[showPatientModal,setShowPatientModal]=useState(false);const[selectedPatient,setSelectedPatient]=useState(null);const[rejectReason,setRejectReason]=useState('');const[showRejectModal,setShowRejectModal]=useState(false);const[selectedAppointmentId,setSelectedAppointmentId]=useState('');const[newShiftSchedule,setNewShiftSchedule]=useState([]);// Pagination and search states\nconst[searchTerm,setSearchTerm]=useState('');const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage]=useState(10);const daysOfWeek=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'];useEffect(()=>{// Initialize shift schedule with current data or defaults\nif(shiftSchedule.length>0){setNewShiftSchedule(shiftSchedule);}else{// Initialize with default schedule (09:00-17:00, Monday-Friday active)\nsetNewShiftSchedule(daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)})));}},[shiftSchedule]);// Update newShiftSchedule when modal opens to ensure it has current data\nuseEffect(()=>{if(showShiftModal){if(shiftSchedule.length>0){setNewShiftSchedule(shiftSchedule);}else{// Use defaults when no schedule exists\nsetNewShiftSchedule(daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)})));}}},[showShiftModal,shiftSchedule]);const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});};const formatTime=timeString=>{return new Date(\"2000-01-01T\".concat(timeString)).toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true});};const getStatusBadge=status=>{const statusConfig={confirmed:{variant:'default',icon:CheckCircle,className:'bg-green-100 text-green-800'},pending:{variant:'secondary',icon:AlertCircle,className:'bg-yellow-100 text-yellow-800'},cancelled:{variant:'destructive',icon:XCircle,className:'bg-red-100 text-red-800'},completed:{variant:'outline',icon:CheckCircle,className:'bg-blue-100 text-blue-800'}};const config=statusConfig[status]||statusConfig.pending;const Icon=config.icon;return/*#__PURE__*/_jsxs(Badge,{variant:config.variant,className:config.className,children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3 w-3 mr-1\"}),status.charAt(0).toUpperCase()+status.slice(1)]});};// Pagination and search helper functions\nconst filterAppointments=(appointments,searchTerm)=>{if(!searchTerm)return appointments;const searchLower=searchTerm.toLowerCase();return appointments.filter(appointment=>{var _appointment$patient,_appointment$patient2,_appointment$patient3,_appointment$service;// Safe string checking with null/undefined protection\nconst firstName=((_appointment$patient=appointment.patient)===null||_appointment$patient===void 0?void 0:_appointment$patient.firstName)||'';const lastName=((_appointment$patient2=appointment.patient)===null||_appointment$patient2===void 0?void 0:_appointment$patient2.lastName)||'';const email=((_appointment$patient3=appointment.patient)===null||_appointment$patient3===void 0?void 0:_appointment$patient3.email)||'';const serviceName=((_appointment$service=appointment.service)===null||_appointment$service===void 0?void 0:_appointment$service.name)||'';const status=appointment.status||'';return firstName.toLowerCase().includes(searchLower)||lastName.toLowerCase().includes(searchLower)||email.toLowerCase().includes(searchLower)||serviceName.toLowerCase().includes(searchLower)||status.toLowerCase().includes(searchLower);});};const paginateAppointments=(appointments,page,itemsPerPage)=>{const startIndex=(page-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;return appointments.slice(startIndex,endIndex);};const getTotalPages=(totalItems,itemsPerPage)=>{return Math.ceil(totalItems/itemsPerPage);};const handleShiftChange=(dayIndex,field,value)=>{setNewShiftSchedule(prev=>prev.map((shift,index)=>index===dayIndex?_objectSpread(_objectSpread({},shift),{},{[field]:value}):shift));};const handleSaveShiftSchedule=async()=>{await onUpdateShiftSchedule(newShiftSchedule);setShowShiftModal(false);};const handleViewPatient=async patient=>{setSelectedPatient(patient);setShowPatientModal(true);await onViewPatientDetails(patient.id);};const handleRejectAppointment=async()=>{if(rejectReason.trim()){await onRejectAppointment(selectedAppointmentId,rejectReason);setShowRejectModal(false);setRejectReason('');setSelectedAppointmentId('');}};const pendingAppointments=appointments.filter(apt=>apt.status==='pending');const todayAppointments=appointments.filter(apt=>new Date(apt.appointmentDate).toDateString()===new Date().toDateString());if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-background flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"Loading dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-background\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-card border-b border-border\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-foreground text-xl\",children:\"\\uD83D\\uDC9A\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-foreground\",children:\"Hopewell Community Clinic\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:\"Doctor Dashboard\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-foreground\",children:[\"Dr. \",user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:user.email})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:onLogout,children:[/*#__PURE__*/_jsx(LogOut,{className:\"h-4 w-4 mr-2\"}),\"Sign Out\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 mb-8 bg-muted p-1 rounded-lg w-fit\",children:[{id:'overview',label:'Overview',icon:Calendar},{id:'appointments',label:'Appointments',icon:Clock},{id:'patients',label:'Patients',icon:Users},{id:'schedule',label:'Schedule',icon:Settings}].map(_ref2=>{let{id,label,icon:Icon}=_ref2;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(id),className:\"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors \".concat(activeTab===id?'bg-background text-foreground shadow-sm':'text-muted-foreground hover:text-foreground'),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:label})]},id);})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-destructive text-sm\",children:error})}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Today's Appointments\"}),/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:todayAppointments.length}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-muted-foreground\",children:[todayAppointments.filter(apt=>apt.status==='confirmed').length,\" confirmed\"]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Pending Approvals\"}),/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:pendingAppointments.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:\"Awaiting your approval\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between space-y-0 pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium\",children:\"Total Patients\"}),/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 text-muted-foreground\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:patients.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:\"Under your care\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Recent Appointments\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Your latest appointment requests and updates\"})]}),/*#__PURE__*/_jsx(CardContent,{children:appointments.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No appointments yet\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:appointments.slice(0,5).map(appointment=>{var _appointment$patient4,_appointment$patient5,_appointment$service2;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[((_appointment$patient4=appointment.patient)===null||_appointment$patient4===void 0?void 0:_appointment$patient4.firstName)||'Unknown',\" \",((_appointment$patient5=appointment.patient)===null||_appointment$patient5===void 0?void 0:_appointment$patient5.lastName)||'Patient']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[formatDate(appointment.appointmentDate),\" at \",formatTime(appointment.startTime)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:((_appointment$service2=appointment.service)===null||_appointment$service2===void 0?void 0:_appointment$service2.name)||'Unknown Service'})]}),getStatusBadge(appointment.status)]}),appointment.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3 inline mr-1\"}),appointment.notes]})]},appointment.id);})})})]})]}),activeTab==='appointments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(Card,{className:\"medical-card\",children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Search appointments by patient name, email, service, or status...\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);setCurrentPage(1);// Reset to first page when searching\n},className:\"pl-10\"})]})})}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pending Appointments\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Review and approve pending appointment requests\"})]}),/*#__PURE__*/_jsx(CardContent,{children:(()=>{const pendingAppointments=appointments.filter(apt=>apt.status==='pending');const filteredPending=filterAppointments(pendingAppointments,searchTerm);const paginatedPending=paginateAppointments(filteredPending,currentPage,itemsPerPage);const totalPendingPages=getTotalPages(filteredPending.length,itemsPerPage);return filteredPending.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:searchTerm?'No pending appointments match your search':'No pending appointments to review'})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:paginatedPending.map(appointment=>{var _appointment$patient6,_appointment$patient7,_appointment$service3,_appointment$service4;return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[((_appointment$patient6=appointment.patient)===null||_appointment$patient6===void 0?void 0:_appointment$patient6.firstName)||'Unknown',\" \",((_appointment$patient7=appointment.patient)===null||_appointment$patient7===void 0?void 0:_appointment$patient7.lastName)||'Patient']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[formatDate(appointment.appointmentDate),\" at \",formatTime(appointment.startTime)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Service: \",((_appointment$service3=appointment.service)===null||_appointment$service3===void 0?void 0:_appointment$service3.name)||'Unknown Service',\" (\",((_appointment$service4=appointment.service)===null||_appointment$service4===void 0?void 0:_appointment$service4.durationMinutes)||0,\" min)\"]}),appointment.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground mt-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3 inline mr-1\"}),appointment.notes]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-2\",children:[getStatusBadge(appointment.status),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{size:\"sm\",onClick:()=>onApproveAppointment(appointment.id),disabled:isProcessing,className:\"bg-green-600 hover:bg-green-700\",children:[/*#__PURE__*/_jsx(Check,{className:\"h-3 w-3 mr-1\"}),\"Approve\"]}),/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"destructive\",onClick:()=>{setSelectedAppointmentId(appointment.id);setShowRejectModal(true);},disabled:isProcessing,children:[/*#__PURE__*/_jsx(X,{className:\"h-3 w-3 mr-1\"}),\"Reject\"]})]})]})]})},appointment.id);})}),totalPendingPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-6 pt-4 border-t\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground\",children:[\"Showing \",(currentPage-1)*itemsPerPage+1,\" to \",Math.min(currentPage*itemsPerPage,filteredPending.length),\" of \",filteredPending.length,\" pending appointments\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage===1,children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4\"}),\"Previous\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[\"Page \",currentPage,\" of \",totalPendingPages]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>setCurrentPage(prev=>Math.min(prev+1,totalPendingPages)),disabled:currentPage===totalPendingPages,children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4\"})]})]})]})]});})()})]}),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(History,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Appointment History\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"View previously approved and cancelled appointments\"})]}),/*#__PURE__*/_jsx(CardContent,{children:(()=>{const historicalAppointments=appointments.filter(apt=>apt.status==='confirmed'||apt.status==='cancelled'||apt.status==='completed');const filteredHistorical=filterAppointments(historicalAppointments,searchTerm);const paginatedHistorical=paginateAppointments(filteredHistorical,currentPage,itemsPerPage);const totalHistoricalPages=getTotalPages(filteredHistorical.length,itemsPerPage);return filteredHistorical.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(History,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:searchTerm?'No historical appointments match your search':'No historical appointments found'})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:paginatedHistorical.sort((a,b)=>new Date(b.appointmentDate).getTime()-new Date(a.appointmentDate).getTime()).map(appointment=>{var _appointment$patient8,_appointment$patient9,_appointment$service5,_appointment$service6;return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[((_appointment$patient8=appointment.patient)===null||_appointment$patient8===void 0?void 0:_appointment$patient8.firstName)||'Unknown',\" \",((_appointment$patient9=appointment.patient)===null||_appointment$patient9===void 0?void 0:_appointment$patient9.lastName)||'Patient']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[formatDate(appointment.appointmentDate),\" at \",formatTime(appointment.startTime)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Service: \",((_appointment$service5=appointment.service)===null||_appointment$service5===void 0?void 0:_appointment$service5.name)||'Unknown Service',\" (\",((_appointment$service6=appointment.service)===null||_appointment$service6===void 0?void 0:_appointment$service6.durationMinutes)||0,\" min)\"]}),appointment.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground mt-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-3 w-3 inline mr-1\"}),appointment.notes]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-end space-y-2\",children:getStatusBadge(appointment.status)})]})},appointment.id);})}),totalHistoricalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-6 pt-4 border-t\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground\",children:[\"Showing \",(currentPage-1)*itemsPerPage+1,\" to \",Math.min(currentPage*itemsPerPage,filteredHistorical.length),\" of \",filteredHistorical.length,\" historical appointments\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage===1,children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4\"}),\"Previous\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[\"Page \",currentPage,\" of \",totalHistoricalPages]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>setCurrentPage(prev=>Math.min(prev+1,totalHistoricalPages)),disabled:currentPage===totalHistoricalPages,children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4\"})]})]})]})]});})()})]})]}),activeTab==='patients'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Patient Management\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"View and manage your patients\"})]}),/*#__PURE__*/_jsx(CardContent,{children:patients.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No patients assigned yet\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:patients.map(patient=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-foreground\",children:[patient.firstName,\" \",patient.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:patient.email}),patient.phone&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Phone: \",patient.phone]}),patient.dateOfBirth&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"DOB: \",new Date(patient.dateOfBirth).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleViewPatient(patient),children:[/*#__PURE__*/_jsx(Eye,{className:\"h-3 w-3 mr-1\"}),\"View Details\"]})]})},patient.id))})})]})}),activeTab==='schedule'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[(()=>{const doctorId=user.staffId||user.id;console.log('ðŸ” DoctorDashboard Schedule Tab - user:',user);console.log('ðŸ” DoctorDashboard Schedule Tab - doctorId:',doctorId);console.log('ðŸ” DoctorDashboard Schedule Tab - user.staffId:',user.staffId);console.log('ðŸ” DoctorDashboard Schedule Tab - user.id:',user.id);// Ensure we're using the staff ID, not the user ID\nif(!user.staffId){console.error('âŒ DoctorDashboard: No staffId found in user object!');console.log('âŒ DoctorDashboard: User object keys:',Object.keys(user));console.log('âŒ DoctorDashboard: Using fallback staff ID for testing');// TEMPORARY: Use a known valid staff ID for testing\nconst fallbackStaffId='42f78af2-c1c5-486c-9de5-0e7e44a8f0da';// Dr. John Smith\nreturn/*#__PURE__*/_jsx(DailySchedule,{doctorId:fallbackStaffId,onBookAppointment:()=>{console.log('Book appointment clicked');}});}return/*#__PURE__*/_jsx(DailySchedule,{doctorId:user.staffId,onBookAppointment:()=>{// This could open a booking modal or navigate to booking page\nconsole.log('Book appointment clicked');}});})(),/*#__PURE__*/_jsxs(Card,{className:\"medical-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Shift Schedule\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowShiftModal(true),children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Manage Shifts\"]})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Set your availability for patient appointments\"})]}),/*#__PURE__*/_jsx(CardContent,{children:shiftSchedule.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"No shift schedule set\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground mt-2\",children:\"Click \\\"Manage Shifts\\\" to set your availability\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:shiftSchedule.map(shift=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:shift.dayOfWeek})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[formatTime(shift.startTime),\" - \",formatTime(shift.endTime)]})})]}),/*#__PURE__*/_jsx(Badge,{variant:shift.isActive?\"default\":\"secondary\",children:shift.isActive?\"Available\":\"Off\"})]},shift.dayOfWeek))})})]})]})]}),showShiftModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Manage Shift Schedule\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Set your availability for each day of the week\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 pb-4 border-b\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{setNewShiftSchedule(daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)})));},children:\"Set Weekdays (9-5)\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{setNewShiftSchedule(daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:true})));},children:\"Set All Days (9-5)\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{setNewShiftSchedule(daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:false})));},children:\"Clear All\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{const defaultSchedule=daysOfWeek.map(day=>({dayOfWeek:day,startTime:'09:00',endTime:'17:00',isActive:['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(day)}));setNewShiftSchedule(defaultSchedule);},children:\"Reset to Defaults\"})]}),newShiftSchedule.map((shift,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-3 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:shift.dayOfWeek})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:shift.isActive,onChange:e=>handleShiftChange(index,'isActive',e.target.checked),className:\"rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Available\"})]}),shift.isActive&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"start-\".concat(index),className:\"text-sm\",children:\"From:\"}),/*#__PURE__*/_jsx(Input,{id:\"start-\".concat(index),type:\"time\",value:shift.startTime,onChange:e=>handleShiftChange(index,'startTime',e.target.value),className:\"w-32\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"end-\".concat(index),className:\"text-sm\",children:\"To:\"}),/*#__PURE__*/_jsx(Input,{id:\"end-\".concat(index),type:\"time\",value:shift.endTime,onChange:e=>handleShiftChange(index,'endTime',e.target.value),className:\"w-32\"})]})]})]},shift.dayOfWeek))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-6\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",className:\"flex-1\",onClick:()=>setShowShiftModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{className:\"flex-1\",onClick:handleSaveShiftSchedule,disabled:isProcessing,children:isProcessing?'Saving...':'Save Schedule'})]})]})]})}),showPatientModal&&selectedPatient&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(User,{className:\"h-5 w-5 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Patient Details\"})]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Complete patient information and medical history\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{className:\"text-sm font-medium\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:selectedPatient.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{className:\"text-sm font-medium\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:selectedPatient.lastName})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{className:\"text-sm font-medium\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:selectedPatient.email})]}),selectedPatient.phone&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{className:\"text-sm font-medium\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:selectedPatient.phone})]}),selectedPatient.dateOfBirth&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{className:\"text-sm font-medium\",children:\"Date of Birth\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:new Date(selectedPatient.dateOfBirth).toLocaleDateString()})]}),selectedPatient.medicalHistory&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{className:\"text-sm font-medium\",children:\"Medical History\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground whitespace-pre-wrap\",children:selectedPatient.medicalHistory})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end pt-6\",children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowPatientModal(false),children:\"Close\"})})]})]})}),showRejectModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(Card,{className:\"w-full max-w-md\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Reject Appointment\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Please provide a reason for rejecting this appointment\"})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"reject-reason\",children:\"Reason for rejection\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"reject-reason\",value:rejectReason,onChange:e=>setRejectReason(e.target.value),className:\"w-full h-20 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none\",placeholder:\"Please explain why this appointment is being rejected...\",required:true})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",className:\"flex-1\",onClick:()=>{setShowRejectModal(false);setRejectReason('');setSelectedAppointmentId('');},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"destructive\",className:\"flex-1\",onClick:handleRejectAppointment,disabled:!rejectReason.trim()||isProcessing,children:isProcessing?'Rejecting...':'Reject Appointment'})]})]})]})})]});};export default DoctorDashboard;","map":{"version":3,"names":["React","useState","useEffect","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","Badge","Input","Label","DailySchedule","Calendar","Clock","Users","CheckCircle","XCircle","AlertCircle","User","FileText","Settings","LogOut","Plus","Eye","Check","X","History","Search","ChevronLeft","ChevronRight","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DoctorDashboard","_ref","user","appointments","patients","shiftSchedule","isLoading","isProcessing","error","onApproveAppointment","onRejectAppointment","onUpdateShiftSchedule","onViewPatientDetails","onLogout","activeTab","setActiveTab","showShiftModal","setShowShiftModal","showPatientModal","setShowPatientModal","selectedPatient","setSelectedPatient","rejectReason","setRejectReason","showRejectModal","setShowRejectModal","selectedAppointmentId","setSelectedAppointmentId","newShiftSchedule","setNewShiftSchedule","searchTerm","setSearchTerm","currentPage","setCurrentPage","itemsPerPage","daysOfWeek","length","map","day","dayOfWeek","startTime","endTime","isActive","includes","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","formatTime","timeString","concat","toLocaleTimeString","hour","minute","hour12","getStatusBadge","status","statusConfig","confirmed","variant","icon","className","pending","cancelled","completed","config","Icon","children","charAt","toUpperCase","slice","filterAppointments","searchLower","toLowerCase","filter","appointment","_appointment$patient","_appointment$patient2","_appointment$patient3","_appointment$service","firstName","patient","lastName","email","serviceName","service","name","paginateAppointments","page","startIndex","endIndex","getTotalPages","totalItems","Math","ceil","handleShiftChange","dayIndex","field","value","prev","shift","index","_objectSpread","handleSaveShiftSchedule","handleViewPatient","id","handleRejectAppointment","trim","pendingAppointments","apt","todayAppointments","appointmentDate","toDateString","onClick","label","_ref2","_appointment$patient4","_appointment$patient5","_appointment$service2","notes","placeholder","onChange","e","target","filteredPending","paginatedPending","totalPendingPages","_appointment$patient6","_appointment$patient7","_appointment$service3","_appointment$service4","durationMinutes","size","disabled","min","max","historicalAppointments","filteredHistorical","paginatedHistorical","totalHistoricalPages","sort","a","b","getTime","_appointment$patient8","_appointment$patient9","_appointment$service5","_appointment$service6","phone","dateOfBirth","doctorId","staffId","console","log","Object","keys","fallbackStaffId","onBookAppointment","defaultSchedule","type","checked","htmlFor","medicalHistory","required"],"sources":["C:/Project/HopewellClinic/src/components/DoctorDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Badge } from './ui/badge';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport DailySchedule from './DailySchedule';\nimport { \n  Calendar, \n  Clock, \n  Users, \n  CheckCircle, \n  XCircle, \n  AlertCircle, \n  User, \n  FileText, \n  Settings,\n  LogOut,\n  Plus,\n  Eye,\n  Check,\n  X,\n  History,\n  Search,\n  ChevronLeft,\n  ChevronRight\n} from 'lucide-react';\n\ninterface User {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n  staffId?: string;\n}\n\ninterface Appointment {\n  id: string;\n  appointmentDate: string;\n  startTime: string;\n  endTime: string;\n  status: string;\n  notes?: string;\n  staffId?: string;\n  doctorId?: string;\n  staff?: {\n    id?: string;\n    staffId?: string;\n    userId?: string;\n    firstName?: string;\n    lastName?: string;\n    email?: string;\n    role?: string;\n  };\n  patient?: {\n    id?: string;\n    firstName?: string;\n    lastName?: string;\n    email?: string;\n    phone?: string;\n    dateOfBirth?: string;\n    medicalHistory?: string;\n  };\n  service?: {\n    id?: string;\n    name?: string;\n    durationMinutes?: number;\n    price?: number;\n  };\n}\n\ninterface Patient {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone?: string;\n  dateOfBirth?: string;\n  medicalHistory?: string;\n  userId: string;\n}\n\ninterface ShiftSchedule {\n  id?: string;\n  dayOfWeek: string;\n  startTime: string;\n  endTime: string;\n  isActive: boolean;\n}\n\ninterface DoctorDashboardProps {\n  user: User;\n  appointments: Appointment[];\n  patients: Patient[];\n  shiftSchedule: ShiftSchedule[];\n  isLoading: boolean;\n  isProcessing: boolean;\n  error: string;\n  onApproveAppointment: (appointmentId: string) => Promise<void>;\n  onRejectAppointment: (appointmentId: string, reason: string) => Promise<void>;\n  onUpdateShiftSchedule: (shiftData: ShiftSchedule[]) => Promise<void>;\n  onViewPatientDetails: (patientId: string) => Promise<void>;\n  onLogout: () => void;\n}\n\nconst DoctorDashboard: React.FC<DoctorDashboardProps> = ({\n  user,\n  appointments,\n  patients,\n  shiftSchedule,\n  isLoading,\n  isProcessing,\n  error,\n  onApproveAppointment,\n  onRejectAppointment,\n  onUpdateShiftSchedule,\n  onViewPatientDetails,\n  onLogout\n}) => {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [showShiftModal, setShowShiftModal] = useState(false);\n  const [showPatientModal, setShowPatientModal] = useState(false);\n  const [selectedPatient, setSelectedPatient] = useState<Patient | null>(null);\n  const [rejectReason, setRejectReason] = useState('');\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [selectedAppointmentId, setSelectedAppointmentId] = useState<string>('');\n  const [newShiftSchedule, setNewShiftSchedule] = useState<ShiftSchedule[]>([]);\n  \n  // Pagination and search states\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(10);\n\n  const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n  useEffect(() => {\n    // Initialize shift schedule with current data or defaults\n    if (shiftSchedule.length > 0) {\n      setNewShiftSchedule(shiftSchedule);\n    } else {\n      // Initialize with default schedule (09:00-17:00, Monday-Friday active)\n      setNewShiftSchedule(daysOfWeek.map(day => ({\n        dayOfWeek: day,\n        startTime: '09:00',\n        endTime: '17:00',\n        isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n      })));\n    }\n  }, [shiftSchedule]);\n\n  // Update newShiftSchedule when modal opens to ensure it has current data\n  useEffect(() => {\n    if (showShiftModal) {\n      if (shiftSchedule.length > 0) {\n        setNewShiftSchedule(shiftSchedule);\n      } else {\n        // Use defaults when no schedule exists\n        setNewShiftSchedule(daysOfWeek.map(day => ({\n          dayOfWeek: day,\n          startTime: '09:00',\n          endTime: '17:00',\n          isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n        })));\n      }\n    }\n  }, [showShiftModal, shiftSchedule]);\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const formatTime = (timeString: string) => {\n    return new Date(`2000-01-01T${timeString}`).toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig = {\n      confirmed: { variant: 'default' as const, icon: CheckCircle, className: 'bg-green-100 text-green-800' },\n      pending: { variant: 'secondary' as const, icon: AlertCircle, className: 'bg-yellow-100 text-yellow-800' },\n      cancelled: { variant: 'destructive' as const, icon: XCircle, className: 'bg-red-100 text-red-800' },\n      completed: { variant: 'outline' as const, icon: CheckCircle, className: 'bg-blue-100 text-blue-800' }\n    };\n\n    const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending;\n    const Icon = config.icon;\n\n    return (\n      <Badge variant={config.variant} className={config.className}>\n        <Icon className=\"h-3 w-3 mr-1\" />\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </Badge>\n    );\n  };\n\n  // Pagination and search helper functions\n  const filterAppointments = (appointments: Appointment[], searchTerm: string) => {\n    if (!searchTerm) return appointments;\n    \n    const searchLower = searchTerm.toLowerCase();\n    \n    return appointments.filter(appointment => {\n      // Safe string checking with null/undefined protection\n      const firstName = appointment.patient?.firstName || '';\n      const lastName = appointment.patient?.lastName || '';\n      const email = appointment.patient?.email || '';\n      const serviceName = appointment.service?.name || '';\n      const status = appointment.status || '';\n      \n      return firstName.toLowerCase().includes(searchLower) ||\n             lastName.toLowerCase().includes(searchLower) ||\n             email.toLowerCase().includes(searchLower) ||\n             serviceName.toLowerCase().includes(searchLower) ||\n             status.toLowerCase().includes(searchLower);\n    });\n  };\n\n  const paginateAppointments = (appointments: Appointment[], page: number, itemsPerPage: number) => {\n    const startIndex = (page - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    return appointments.slice(startIndex, endIndex);\n  };\n\n  const getTotalPages = (totalItems: number, itemsPerPage: number) => {\n    return Math.ceil(totalItems / itemsPerPage);\n  };\n\n  const handleShiftChange = (dayIndex: number, field: keyof ShiftSchedule, value: any) => {\n    setNewShiftSchedule(prev => prev.map((shift, index) => \n      index === dayIndex ? { ...shift, [field]: value } : shift\n    ));\n  };\n\n  const handleSaveShiftSchedule = async () => {\n    await onUpdateShiftSchedule(newShiftSchedule);\n    setShowShiftModal(false);\n  };\n\n  const handleViewPatient = async (patient: Patient) => {\n    setSelectedPatient(patient);\n    setShowPatientModal(true);\n    await onViewPatientDetails(patient.id);\n  };\n\n  const handleRejectAppointment = async () => {\n    if (rejectReason.trim()) {\n      await onRejectAppointment(selectedAppointmentId, rejectReason);\n      setShowRejectModal(false);\n      setRejectReason('');\n      setSelectedAppointmentId('');\n    }\n  };\n\n  const pendingAppointments = appointments.filter(apt => apt.status === 'pending');\n  const todayAppointments = appointments.filter(apt => \n    new Date(apt.appointmentDate).toDateString() === new Date().toDateString()\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"bg-card border-b border-border\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\">\n                <span className=\"text-primary-foreground text-xl\">ðŸ’š</span>\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-foreground\">Hopewell Community Clinic</h1>\n                <p className=\"text-sm text-muted-foreground\">Doctor Dashboard</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <p className=\"font-medium text-foreground\">Dr. {user.firstName} {user.lastName}</p>\n                <p className=\"text-sm text-muted-foreground\">{user.email}</p>\n              </div>\n              <Button variant=\"outline\" onClick={onLogout}>\n                <LogOut className=\"h-4 w-4 mr-2\" />\n                Sign Out\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Navigation Tabs */}\n        <div className=\"flex space-x-1 mb-8 bg-muted p-1 rounded-lg w-fit\">\n          {[\n            { id: 'overview', label: 'Overview', icon: Calendar },\n            { id: 'appointments', label: 'Appointments', icon: Clock },\n            { id: 'patients', label: 'Patients', icon: Users },\n            { id: 'schedule', label: 'Schedule', icon: Settings }\n          ].map(({ id, label, icon: Icon }) => (\n            <button\n              key={id}\n              onClick={() => setActiveTab(id)}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${\n                activeTab === id\n                  ? 'bg-background text-foreground shadow-sm'\n                  : 'text-muted-foreground hover:text-foreground'\n              }`}\n            >\n              <Icon className=\"h-4 w-4\" />\n              <span>{label}</span>\n            </button>\n          ))}\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg\">\n            <p className=\"text-destructive text-sm\">{error}</p>\n          </div>\n        )}\n\n        {/* Overview Tab */}\n        {activeTab === 'overview' && (\n          <div className=\"space-y-6\">\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Today's Appointments</CardTitle>\n                  <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{todayAppointments.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {todayAppointments.filter(apt => apt.status === 'confirmed').length} confirmed\n                  </p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Pending Approvals</CardTitle>\n                  <AlertCircle className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{pendingAppointments.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Awaiting your approval\n                  </p>\n                </CardContent>\n              </Card>\n\n              <Card className=\"medical-card\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">Total Patients</CardTitle>\n                  <Users className=\"h-4 w-4 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{patients.length}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Under your care\n                  </p>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Recent Appointments */}\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <Clock className=\"h-5 w-5 text-primary\" />\n                  <span>Recent Appointments</span>\n                </CardTitle>\n                <CardDescription>\n                  Your latest appointment requests and updates\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {appointments.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Calendar className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No appointments yet</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {appointments.slice(0, 5).map((appointment) => (\n                      <div key={appointment.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <div>\n                            <h4 className=\"font-medium text-foreground\">\n                              {appointment.patient?.firstName || 'Unknown'} {appointment.patient?.lastName || 'Patient'}\n                            </h4>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {formatDate(appointment.appointmentDate)} at {formatTime(appointment.startTime)}\n                            </p>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {appointment.service?.name || 'Unknown Service'}\n                            </p>\n                          </div>\n                          {getStatusBadge(appointment.status)}\n                        </div>\n                        {appointment.notes && (\n                          <p className=\"text-sm text-muted-foreground\">\n                            <FileText className=\"h-3 w-3 inline mr-1\" />\n                            {appointment.notes}\n                          </p>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Appointments Tab */}\n        {activeTab === 'appointments' && (\n          <div className=\"space-y-6\">\n            {/* Search Bar */}\n            <Card className=\"medical-card\">\n              <CardContent className=\"pt-6\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                  <Input\n                    placeholder=\"Search appointments by patient name, email, service, or status...\"\n                    value={searchTerm}\n                    onChange={(e) => {\n                      setSearchTerm(e.target.value);\n                      setCurrentPage(1); // Reset to first page when searching\n                    }}\n                    className=\"pl-10\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Pending Appointments */}\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <Clock className=\"h-5 w-5 text-primary\" />\n                  <span>Pending Appointments</span>\n                </CardTitle>\n                <CardDescription>\n                  Review and approve pending appointment requests\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {(() => {\n                  const pendingAppointments = appointments.filter(apt => apt.status === 'pending');\n                  const filteredPending = filterAppointments(pendingAppointments, searchTerm);\n                  const paginatedPending = paginateAppointments(filteredPending, currentPage, itemsPerPage);\n                  const totalPendingPages = getTotalPages(filteredPending.length, itemsPerPage);\n\n                  return filteredPending.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <Calendar className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                      <p className=\"text-muted-foreground\">\n                        {searchTerm ? 'No pending appointments match your search' : 'No pending appointments to review'}\n                      </p>\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"space-y-4\">\n                        {paginatedPending.map((appointment) => (\n                          <div key={appointment.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                            <div className=\"flex items-start justify-between mb-3\">\n                              <div className=\"flex-1\">\n                                <h4 className=\"font-medium text-foreground\">\n                                  {appointment.patient?.firstName || 'Unknown'} {appointment.patient?.lastName || 'Patient'}\n                                </h4>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  {formatDate(appointment.appointmentDate)} at {formatTime(appointment.startTime)}\n                                </p>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  Service: {appointment.service?.name || 'Unknown Service'} ({appointment.service?.durationMinutes || 0} min)\n                                </p>\n                                {appointment.notes && (\n                                  <p className=\"text-sm text-muted-foreground mt-2\">\n                                    <FileText className=\"h-3 w-3 inline mr-1\" />\n                                    {appointment.notes}\n                                  </p>\n                                )}\n                              </div>\n                              <div className=\"flex flex-col items-end space-y-2\">\n                                {getStatusBadge(appointment.status)}\n                                <div className=\"flex space-x-2\">\n                                  <Button\n                                    size=\"sm\"\n                                    onClick={() => onApproveAppointment(appointment.id)}\n                                    disabled={isProcessing}\n                                    className=\"bg-green-600 hover:bg-green-700\"\n                                  >\n                                    <Check className=\"h-3 w-3 mr-1\" />\n                                    Approve\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"destructive\"\n                                    onClick={() => {\n                                      setSelectedAppointmentId(appointment.id);\n                                      setShowRejectModal(true);\n                                    }}\n                                    disabled={isProcessing}\n                                  >\n                                    <X className=\"h-3 w-3 mr-1\" />\n                                    Reject\n                                  </Button>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                      \n                      {/* Pagination for Pending */}\n                      {totalPendingPages > 1 && (\n                        <div className=\"flex items-center justify-between mt-6 pt-4 border-t\">\n                          <div className=\"text-sm text-muted-foreground\">\n                            Showing {((currentPage - 1) * itemsPerPage) + 1} to {Math.min(currentPage * itemsPerPage, filteredPending.length)} of {filteredPending.length} pending appointments\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                              disabled={currentPage === 1}\n                            >\n                              <ChevronLeft className=\"h-4 w-4\" />\n                              Previous\n                            </Button>\n                            <span className=\"text-sm\">\n                              Page {currentPage} of {totalPendingPages}\n                            </span>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPendingPages))}\n                              disabled={currentPage === totalPendingPages}\n                            >\n                              Next\n                              <ChevronRight className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      )}\n                    </>\n                  );\n                })()}\n              </CardContent>\n            </Card>\n\n            {/* Historical Appointments */}\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <History className=\"h-5 w-5 text-primary\" />\n                  <span>Appointment History</span>\n                </CardTitle>\n                <CardDescription>\n                  View previously approved and cancelled appointments\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {(() => {\n                  const historicalAppointments = appointments.filter(apt => \n                    apt.status === 'confirmed' || apt.status === 'cancelled' || apt.status === 'completed'\n                  );\n                  const filteredHistorical = filterAppointments(historicalAppointments, searchTerm);\n                  const paginatedHistorical = paginateAppointments(filteredHistorical, currentPage, itemsPerPage);\n                  const totalHistoricalPages = getTotalPages(filteredHistorical.length, itemsPerPage);\n\n                  return filteredHistorical.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <History className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                      <p className=\"text-muted-foreground\">\n                        {searchTerm ? 'No historical appointments match your search' : 'No historical appointments found'}\n                      </p>\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"space-y-4\">\n                        {paginatedHistorical\n                          .sort((a, b) => new Date(b.appointmentDate).getTime() - new Date(a.appointmentDate).getTime())\n                          .map((appointment) => (\n                          <div key={appointment.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                            <div className=\"flex items-start justify-between mb-3\">\n                              <div className=\"flex-1\">\n                                <h4 className=\"font-medium text-foreground\">\n                                  {appointment.patient?.firstName || 'Unknown'} {appointment.patient?.lastName || 'Patient'}\n                                </h4>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  {formatDate(appointment.appointmentDate)} at {formatTime(appointment.startTime)}\n                                </p>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  Service: {appointment.service?.name || 'Unknown Service'} ({appointment.service?.durationMinutes || 0} min)\n                                </p>\n                                {appointment.notes && (\n                                  <p className=\"text-sm text-muted-foreground mt-2\">\n                                    <FileText className=\"h-3 w-3 inline mr-1\" />\n                                    {appointment.notes}\n                                  </p>\n                                )}\n                              </div>\n                              <div className=\"flex flex-col items-end space-y-2\">\n                                {getStatusBadge(appointment.status)}\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                      \n                      {/* Pagination for Historical */}\n                      {totalHistoricalPages > 1 && (\n                        <div className=\"flex items-center justify-between mt-6 pt-4 border-t\">\n                          <div className=\"text-sm text-muted-foreground\">\n                            Showing {((currentPage - 1) * itemsPerPage) + 1} to {Math.min(currentPage * itemsPerPage, filteredHistorical.length)} of {filteredHistorical.length} historical appointments\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                              disabled={currentPage === 1}\n                            >\n                              <ChevronLeft className=\"h-4 w-4\" />\n                              Previous\n                            </Button>\n                            <span className=\"text-sm\">\n                              Page {currentPage} of {totalHistoricalPages}\n                            </span>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalHistoricalPages))}\n                              disabled={currentPage === totalHistoricalPages}\n                            >\n                              Next\n                              <ChevronRight className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      )}\n                    </>\n                  );\n                })()}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Patients Tab */}\n        {activeTab === 'patients' && (\n          <div className=\"space-y-6\">\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <Users className=\"h-5 w-5 text-primary\" />\n                  <span>Patient Management</span>\n                </CardTitle>\n                <CardDescription>\n                  View and manage your patients\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {patients.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Users className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No patients assigned yet</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {patients.map((patient) => (\n                      <div key={patient.id} className=\"border rounded-lg p-4 hover:bg-muted/50 transition-colors\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <h4 className=\"font-medium text-foreground\">\n                              {patient.firstName} {patient.lastName}\n                            </h4>\n                            <p className=\"text-sm text-muted-foreground\">{patient.email}</p>\n                            {patient.phone && (\n                              <p className=\"text-sm text-muted-foreground\">Phone: {patient.phone}</p>\n                            )}\n                            {patient.dateOfBirth && (\n                              <p className=\"text-sm text-muted-foreground\">\n                                DOB: {new Date(patient.dateOfBirth).toLocaleDateString()}\n                              </p>\n                            )}\n                          </div>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleViewPatient(patient)}\n                          >\n                            <Eye className=\"h-3 w-3 mr-1\" />\n                            View Details\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Schedule Tab */}\n        {activeTab === 'schedule' && (\n          <div className=\"space-y-6\">\n            {/* Daily Schedule View */}\n            {(() => {\n              const doctorId = user.staffId || user.id;\n              console.log('ðŸ” DoctorDashboard Schedule Tab - user:', user);\n              console.log('ðŸ” DoctorDashboard Schedule Tab - doctorId:', doctorId);\n              console.log('ðŸ” DoctorDashboard Schedule Tab - user.staffId:', user.staffId);\n              console.log('ðŸ” DoctorDashboard Schedule Tab - user.id:', user.id);\n              \n              // Ensure we're using the staff ID, not the user ID\n              if (!user.staffId) {\n                console.error('âŒ DoctorDashboard: No staffId found in user object!');\n                console.log('âŒ DoctorDashboard: User object keys:', Object.keys(user));\n                console.log('âŒ DoctorDashboard: Using fallback staff ID for testing');\n                // TEMPORARY: Use a known valid staff ID for testing\n                const fallbackStaffId = '42f78af2-c1c5-486c-9de5-0e7e44a8f0da'; // Dr. John Smith\n                return (\n                  <DailySchedule \n                    doctorId={fallbackStaffId}\n                    onBookAppointment={() => {\n                      console.log('Book appointment clicked');\n                    }}\n                  />\n                );\n              }\n              \n              return (\n                <DailySchedule \n                  doctorId={user.staffId}\n                  onBookAppointment={() => {\n                    // This could open a booking modal or navigate to booking page\n                    console.log('Book appointment clicked');\n                  }}\n                />\n              );\n            })()}\n            \n            {/* Shift Schedule Management */}\n            <Card className=\"medical-card\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Settings className=\"h-5 w-5 text-primary\" />\n                    <span>Shift Schedule</span>\n                  </div>\n                  <Button onClick={() => setShowShiftModal(true)}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Manage Shifts\n                  </Button>\n                </CardTitle>\n                <CardDescription>\n                  Set your availability for patient appointments\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {shiftSchedule.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <Settings className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-muted-foreground\">No shift schedule set</p>\n                    <p className=\"text-sm text-muted-foreground mt-2\">\n                      Click \"Manage Shifts\" to set your availability\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {shiftSchedule.map((shift) => (\n                      <div key={shift.dayOfWeek} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div className=\"w-24\">\n                            <span className=\"font-medium\">{shift.dayOfWeek}</span>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-sm text-muted-foreground\">\n                              {formatTime(shift.startTime)} - {formatTime(shift.endTime)}\n                            </span>\n                          </div>\n                        </div>\n                        <Badge variant={shift.isActive ? \"default\" : \"secondary\"}>\n                          {shift.isActive ? \"Available\" : \"Off\"}\n                        </Badge>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n\n      {/* Shift Management Modal */}\n      {showShiftModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle>Manage Shift Schedule</CardTitle>\n              <CardDescription>\n                Set your availability for each day of the week\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {/* Quick Actions */}\n                <div className=\"flex space-x-2 pb-4 border-b\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setNewShiftSchedule(daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n                      })));\n                    }}\n                  >\n                    Set Weekdays (9-5)\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setNewShiftSchedule(daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: true\n                      })));\n                    }}\n                  >\n                    Set All Days (9-5)\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setNewShiftSchedule(daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: false\n                      })));\n                    }}\n                  >\n                    Clear All\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      const defaultSchedule = daysOfWeek.map(day => ({\n                        dayOfWeek: day,\n                        startTime: '09:00',\n                        endTime: '17:00',\n                        isActive: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].includes(day)\n                      }));\n                      setNewShiftSchedule(defaultSchedule);\n                    }}\n                  >\n                    Reset to Defaults\n                  </Button>\n                </div>\n\n                {/* Individual Day Settings */}\n                {newShiftSchedule.map((shift, index) => (\n                  <div key={shift.dayOfWeek} className=\"flex items-center space-x-4 p-3 border rounded-lg\">\n                    <div className=\"w-24\">\n                      <span className=\"font-medium\">{shift.dayOfWeek}</span>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={shift.isActive}\n                        onChange={(e) => handleShiftChange(index, 'isActive', e.target.checked)}\n                        className=\"rounded\"\n                      />\n                      <span className=\"text-sm\">Available</span>\n                    </div>\n                    {shift.isActive && (\n                      <>\n                        <div className=\"flex items-center space-x-2\">\n                          <Label htmlFor={`start-${index}`} className=\"text-sm\">From:</Label>\n                          <Input\n                            id={`start-${index}`}\n                            type=\"time\"\n                            value={shift.startTime}\n                            onChange={(e) => handleShiftChange(index, 'startTime', e.target.value)}\n                            className=\"w-32\"\n                          />\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Label htmlFor={`end-${index}`} className=\"text-sm\">To:</Label>\n                          <Input\n                            id={`end-${index}`}\n                            type=\"time\"\n                            value={shift.endTime}\n                            onChange={(e) => handleShiftChange(index, 'endTime', e.target.value)}\n                            className=\"w-32\"\n                          />\n                        </div>\n                      </>\n                    )}\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex space-x-3 pt-6\">\n                <Button\n                  variant=\"outline\"\n                  className=\"flex-1\"\n                  onClick={() => setShowShiftModal(false)}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  className=\"flex-1\"\n                  onClick={handleSaveShiftSchedule}\n                  disabled={isProcessing}\n                >\n                  {isProcessing ? 'Saving...' : 'Save Schedule'}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Patient Details Modal */}\n      {showPatientModal && selectedPatient && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <User className=\"h-5 w-5 text-primary\" />\n                <span>Patient Details</span>\n              </CardTitle>\n              <CardDescription>\n                Complete patient information and medical history\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <Label className=\"text-sm font-medium\">First Name</Label>\n                    <p className=\"text-sm text-muted-foreground\">{selectedPatient.firstName}</p>\n                  </div>\n                  <div>\n                    <Label className=\"text-sm font-medium\">Last Name</Label>\n                    <p className=\"text-sm text-muted-foreground\">{selectedPatient.lastName}</p>\n                  </div>\n                </div>\n                <div>\n                  <Label className=\"text-sm font-medium\">Email</Label>\n                  <p className=\"text-sm text-muted-foreground\">{selectedPatient.email}</p>\n                </div>\n                {selectedPatient.phone && (\n                  <div>\n                    <Label className=\"text-sm font-medium\">Phone</Label>\n                    <p className=\"text-sm text-muted-foreground\">{selectedPatient.phone}</p>\n                  </div>\n                )}\n                {selectedPatient.dateOfBirth && (\n                  <div>\n                    <Label className=\"text-sm font-medium\">Date of Birth</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {new Date(selectedPatient.dateOfBirth).toLocaleDateString()}\n                    </p>\n                  </div>\n                )}\n                {selectedPatient.medicalHistory && (\n                  <div>\n                    <Label className=\"text-sm font-medium\">Medical History</Label>\n                    <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">\n                      {selectedPatient.medicalHistory}\n                    </p>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex justify-end pt-6\">\n                <Button onClick={() => setShowPatientModal(false)}>\n                  Close\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n\n      {/* Reject Appointment Modal */}\n      {showRejectModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-md\">\n            <CardHeader>\n              <CardTitle>Reject Appointment</CardTitle>\n              <CardDescription>\n                Please provide a reason for rejecting this appointment\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"reject-reason\">Reason for rejection</Label>\n                  <textarea\n                    id=\"reject-reason\"\n                    value={rejectReason}\n                    onChange={(e) => setRejectReason(e.target.value)}\n                    className=\"w-full h-20 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none\"\n                    placeholder=\"Please explain why this appointment is being rejected...\"\n                    required\n                  />\n                </div>\n              </div>\n              <div className=\"flex space-x-3 pt-4\">\n                <Button\n                  variant=\"outline\"\n                  className=\"flex-1\"\n                  onClick={() => {\n                    setShowRejectModal(false);\n                    setRejectReason('');\n                    setSelectedAppointmentId('');\n                  }}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  variant=\"destructive\"\n                  className=\"flex-1\"\n                  onClick={handleRejectAppointment}\n                  disabled={!rejectReason.trim() || isProcessing}\n                >\n                  {isProcessing ? 'Rejecting...' : 'Reject Appointment'}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DoctorDashboard;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}