{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\HopewellClinic\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport LandingPage from './components/LandingPage';\nimport AuthPage from './components/AuthPage';\nimport PatientDashboard from './components/PatientDashboard';\nimport DoctorDashboard from './components/DoctorDashboard';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// Import the existing API functions\nimport { appointmentsAPI, servicesAPI, patientsAPI, staffAPI, doctorAPI } from './services/api';\n\n// Protected Route component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  allowedRoles = []\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    isLoading,\n    hasAnyRole\n  } = useAuth();\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/auth\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  }\n  if (allowedRoles.length > 0 && !hasAnyRole(allowedRoles)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/unauthorized\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n};\n\n// Dashboard wrapper component that handles data loading\n_s(ProtectedRoute, \"QRsE/tUD7olIanpaPmCviy1w10g=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nconst DashboardWrapper = ({\n  children,\n  user\n}) => {\n  _s2();\n  const [appointments, setAppointments] = React.useState([]);\n  const [services, setServices] = React.useState([]);\n  const [doctors, setDoctors] = React.useState([]);\n  const [availableSlots, setAvailableSlots] = React.useState([]);\n  const [patientId, setPatientId] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [isBooking, setIsBooking] = React.useState(false);\n  const [bookingError, setBookingError] = React.useState('');\n  const loadDashboardData = async () => {\n    try {\n      setIsLoading(true);\n\n      // Get the Patient ID from the ApplicationUser ID\n      const patient = await patientsAPI.getByUserId(user.id);\n      setPatientId(patient.id);\n      const [appointmentsData, servicesData, doctorsData] = await Promise.all([appointmentsAPI.getByPatient(patient.id), servicesAPI.getAll(), staffAPI.getByRole('doctor')]);\n      setAppointments(appointmentsData);\n      setServices(servicesData);\n      setDoctors(doctorsData);\n    } catch (error) {\n      console.error('Error loading dashboard data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const loadAvailableSlots = async date => {\n    try {\n      console.log('Loading available slots for date:', date);\n      const slots = await appointmentsAPI.getAvailable(date);\n      console.log('Available slots received:', slots);\n\n      // Calculate the day of the week for the requested date\n      const requestedDate = new Date(date);\n      const dayOfWeek = requestedDate.getDay(); // 0 = Sunday, 1 = Monday, etc.\n\n      // Filter slots to only include the correct day of the week\n      const filteredSlots = slots.filter(slot => slot.dayOfWeek === dayOfWeek);\n      console.log('Filtered slots for day', dayOfWeek, ':', filteredSlots);\n      setAvailableSlots(filteredSlots);\n    } catch (error) {\n      console.error('Error loading available slots:', error);\n      setAvailableSlots([]);\n    }\n  };\n  const handleBookAppointment = async bookingData => {\n    try {\n      setIsBooking(true);\n      setBookingError('');\n\n      // Calculate end time based on service duration\n      const selectedService = services.find(s => s.id === bookingData.serviceId);\n\n      // Ensure startTime is in HH:mm:ss format\n      const startTimeFormatted = bookingData.startTime.includes(':') && bookingData.startTime.split(':').length === 2 ? bookingData.startTime + ':00' : bookingData.startTime;\n      const startTime = new Date(`2000-01-01T${startTimeFormatted}`);\n      const endTime = new Date(startTime.getTime() + ((selectedService === null || selectedService === void 0 ? void 0 : selectedService.durationMinutes) || 30) * 60000);\n      const endTimeString = endTime.toTimeString().slice(0, 8); // Format as HH:mm:ss\n\n      await appointmentsAPI.create({\n        patientId: patientId,\n        serviceId: bookingData.serviceId,\n        staffId: bookingData.staffId,\n        appointmentDate: bookingData.appointmentDate,\n        startTime: startTimeFormatted,\n        endTime: endTimeString,\n        notes: bookingData.notes || ''\n      });\n\n      // Refresh appointments\n      await loadDashboardData();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error booking appointment:', error);\n      setBookingError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message || 'Failed to book appointment');\n    } finally {\n      setIsBooking(false);\n    }\n  };\n  const handleUpdateAppointment = async (appointmentId, updateData) => {\n    try {\n      setIsBooking(true);\n      setBookingError('');\n\n      // Calculate end time based on service duration\n      const selectedService = services.find(s => s.id === updateData.serviceId);\n\n      // Ensure startTime is in HH:mm:ss format\n      const startTimeFormatted = updateData.startTime.includes(':') && updateData.startTime.split(':').length === 2 ? updateData.startTime + ':00' : updateData.startTime;\n      const startTime = new Date(`2000-01-01T${startTimeFormatted}`);\n      const endTime = new Date(startTime.getTime() + ((selectedService === null || selectedService === void 0 ? void 0 : selectedService.durationMinutes) || 30) * 60000);\n      const endTimeString = endTime.toTimeString().slice(0, 8); // Format as HH:mm:ss\n\n      await appointmentsAPI.update(appointmentId, {\n        appointmentDate: updateData.appointmentDate,\n        startTime: startTimeFormatted,\n        endTime: endTimeString,\n        notes: updateData.notes || ''\n      });\n\n      // Refresh appointments\n      await loadDashboardData();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error updating appointment:', error);\n      setBookingError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Failed to update appointment');\n    } finally {\n      setIsBooking(false);\n    }\n  };\n  const handleCancelAppointment = async appointmentId => {\n    try {\n      setIsBooking(true);\n      setBookingError('');\n      await appointmentsAPI.delete(appointmentId);\n\n      // Refresh appointments\n      await loadDashboardData();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error canceling appointment:', error);\n      setBookingError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || error.message || 'Failed to cancel appointment');\n    } finally {\n      setIsBooking(false);\n    }\n  };\n  React.useEffect(() => {\n    loadDashboardData();\n  }, [user.id]);\n\n  // Call children as a function with props\n  return children({\n    user,\n    appointments,\n    services,\n    doctors,\n    availableSlots,\n    isLoading,\n    isBooking,\n    bookingError,\n    onBookAppointment: handleBookAppointment,\n    onUpdateAppointment: handleUpdateAppointment,\n    onCancelAppointment: handleCancelAppointment,\n    onLoadAvailableSlots: loadAvailableSlots\n  });\n};\n\n// Doctor Dashboard wrapper component that handles doctor-specific data loading\n_s2(DashboardWrapper, \"QjIZ9+KrVBr9O7c8AGMnUuNJ29A=\");\n_c2 = DashboardWrapper;\nconst DoctorDashboardWrapper = ({\n  children,\n  user\n}) => {\n  _s3();\n  const [appointments, setAppointments] = React.useState([]);\n  const [patients, setPatients] = React.useState([]);\n  const [shiftSchedule, setShiftSchedule] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [isProcessing, setIsProcessing] = React.useState(false);\n  const [error, setError] = React.useState('');\n  const loadDashboardData = async () => {\n    try {\n      setIsLoading(true);\n      setError('');\n\n      // Get doctor's appointments\n      const appointmentsData = await doctorAPI.getAllAppointments(user.id);\n      setAppointments(appointmentsData);\n\n      // Get doctor's patients\n      const patientsData = await doctorAPI.getPatients(user.id);\n      setPatients(patientsData);\n\n      // Get doctor's shift schedule\n      try {\n        const shiftData = await doctorAPI.getShiftSchedule(user.id);\n        setShiftSchedule(shiftData);\n      } catch (shiftError) {\n        // If no shift schedule exists, initialize with empty schedule\n        console.log('No shift schedule found, initializing empty schedule');\n        setShiftSchedule([]);\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error loading doctor dashboard data:', error);\n      setError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || error.message || 'Failed to load dashboard data');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleApproveAppointment = async appointmentId => {\n    try {\n      setIsProcessing(true);\n      setError('');\n      await doctorAPI.approveAppointment(appointmentId);\n      await loadDashboardData(); // Refresh data\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      console.error('Error approving appointment:', error);\n      setError(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || error.message || 'Failed to approve appointment');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleRejectAppointment = async (appointmentId, reason) => {\n    try {\n      setIsProcessing(true);\n      setError('');\n      await doctorAPI.rejectAppointment(appointmentId, reason);\n      await loadDashboardData(); // Refresh data\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      console.error('Error rejecting appointment:', error);\n      setError(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || error.message || 'Failed to reject appointment');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleUpdateShiftSchedule = async shiftData => {\n    try {\n      setIsProcessing(true);\n      setError('');\n      await doctorAPI.updateShiftSchedule(user.id, shiftData);\n      await loadDashboardData(); // Refresh data\n    } catch (error) {\n      var _error$response7, _error$response7$data;\n      console.error('Error updating shift schedule:', error);\n      setError(((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.error) || error.message || 'Failed to update shift schedule');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleViewPatientDetails = async patientId => {\n    try {\n      setError('');\n      await doctorAPI.getPatientDetails(patientId);\n      // Patient details are handled in the modal, no need to update state\n    } catch (error) {\n      var _error$response8, _error$response8$data;\n      console.error('Error loading patient details:', error);\n      setError(((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.error) || error.message || 'Failed to load patient details');\n    }\n  };\n  React.useEffect(() => {\n    loadDashboardData();\n  }, [user.id]);\n\n  // Call children as a function with props\n  return children({\n    user,\n    appointments,\n    patients,\n    shiftSchedule,\n    isLoading,\n    isProcessing,\n    error,\n    onApproveAppointment: handleApproveAppointment,\n    onRejectAppointment: handleRejectAppointment,\n    onUpdateShiftSchedule: handleUpdateShiftSchedule,\n    onViewPatientDetails: handleViewPatientDetails\n  });\n};\n\n// Main App Routes component\n_s3(DoctorDashboardWrapper, \"ya1EbW4cNEBtBdbguKY5LBWokLw=\");\n_c3 = DoctorDashboardWrapper;\nconst AppRoutes = () => {\n  _s4();\n  var _user$roles, _user$roles2;\n  const {\n    isAuthenticated,\n    user,\n    login,\n    register,\n    logout,\n    isLoading,\n    error,\n    clearError\n  } = useAuth();\n  const handleLogin = async (email, password) => {\n    try {\n      await login({\n        email,\n        password\n      });\n    } catch (err) {\n      // Error is handled by AuthContext\n    }\n  };\n  const handleRegister = async userData => {\n    try {\n      await register(userData);\n    } catch (err) {\n      // Error is handled by AuthContext\n    }\n  };\n  const handleLogout = () => {\n    logout();\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(LandingPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/auth\",\n      element: isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n        to: user !== null && user !== void 0 && (_user$roles = user.roles) !== null && _user$roles !== void 0 && _user$roles.includes('admin') ? '/admin-dashboard' : user !== null && user !== void 0 && (_user$roles2 = user.roles) !== null && _user$roles2 !== void 0 && _user$roles2.includes('doctor') ? '/doctor-dashboard' : '/patient-dashboard',\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(AuthPage, {\n        onLogin: handleLogin,\n        onRegister: handleRegister,\n        isLoading: isLoading,\n        error: error,\n        clearError: clearError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/patient-dashboard\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['patient'],\n        children: /*#__PURE__*/_jsxDEV(DashboardWrapper, {\n          user: user,\n          children: props => /*#__PURE__*/_jsxDEV(PatientDashboard, {\n            ...props,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/doctor-dashboard\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['doctor'],\n        children: /*#__PURE__*/_jsxDEV(DoctorDashboardWrapper, {\n          user: user,\n          children: props => /*#__PURE__*/_jsxDEV(DoctorDashboard, {\n            ...props,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/unauthorized\",\n      element: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-foreground mb-4\",\n            children: \"Unauthorized\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted-foreground mb-4\",\n            children: \"You don't have permission to access this page.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\",\n            children: \"Sign Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"*\",\n      element: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 357,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App component\n_s4(AppRoutes, \"GaGKisbCmmD5CAA51vWhAmj0u90=\", false, function () {\n  return [useAuth];\n});\n_c4 = AppRoutes;\nconst App = () => {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(AppRoutes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 428,\n    columnNumber: 5\n  }, this);\n};\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"DashboardWrapper\");\n$RefreshReg$(_c3, \"DoctorDashboardWrapper\");\n$RefreshReg$(_c4, \"AppRoutes\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","LandingPage","AuthPage","PatientDashboard","DoctorDashboard","LoadingSpinner","appointmentsAPI","servicesAPI","patientsAPI","staffAPI","doctorAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","ProtectedRoute","children","allowedRoles","_s","isAuthenticated","isLoading","hasAnyRole","className","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","length","_c","DashboardWrapper","user","_s2","appointments","setAppointments","useState","services","setServices","doctors","setDoctors","availableSlots","setAvailableSlots","patientId","setPatientId","setIsLoading","isBooking","setIsBooking","bookingError","setBookingError","loadDashboardData","patient","getByUserId","id","appointmentsData","servicesData","doctorsData","Promise","all","getByPatient","getAll","getByRole","error","console","loadAvailableSlots","date","log","slots","getAvailable","requestedDate","Date","dayOfWeek","getDay","filteredSlots","filter","slot","handleBookAppointment","bookingData","selectedService","find","s","serviceId","startTimeFormatted","startTime","includes","split","endTime","getTime","durationMinutes","endTimeString","toTimeString","slice","create","staffId","appointmentDate","notes","_error$response","_error$response$data","response","data","message","handleUpdateAppointment","appointmentId","updateData","update","_error$response2","_error$response2$data","handleCancelAppointment","delete","_error$response3","_error$response3$data","useEffect","onBookAppointment","onUpdateAppointment","onCancelAppointment","onLoadAvailableSlots","_c2","DoctorDashboardWrapper","_s3","patients","setPatients","shiftSchedule","setShiftSchedule","isProcessing","setIsProcessing","setError","getAllAppointments","patientsData","getPatients","shiftData","getShiftSchedule","shiftError","_error$response4","_error$response4$data","handleApproveAppointment","approveAppointment","_error$response5","_error$response5$data","handleRejectAppointment","reason","rejectAppointment","_error$response6","_error$response6$data","handleUpdateShiftSchedule","updateShiftSchedule","_error$response7","_error$response7$data","handleViewPatientDetails","getPatientDetails","_error$response8","_error$response8$data","onApproveAppointment","onRejectAppointment","onUpdateShiftSchedule","onViewPatientDetails","_c3","AppRoutes","_s4","_user$roles","_user$roles2","login","register","logout","clearError","handleLogin","email","password","err","handleRegister","userData","handleLogout","path","element","roles","onLogin","onRegister","props","onLogout","onClick","_c4","App","_c5","$RefreshReg$"],"sources":["C:/Project/HopewellClinic/src/App.tsx"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\nimport LandingPage from './components/LandingPage';\r\nimport AuthPage from './components/AuthPage';\r\nimport PatientDashboard from './components/PatientDashboard';\r\nimport DoctorDashboard from './components/DoctorDashboard';\r\nimport AdminDashboard from './components/AdminDashboard';\r\nimport LoadingSpinner from './components/LoadingSpinner';\r\n\r\n// Import the existing API functions\r\nimport { appointmentsAPI, servicesAPI, patientsAPI, staffAPI, doctorAPI, adminAPI } from './services/api';\r\n\r\n// Protected Route component\r\nconst ProtectedRoute: React.FC<{ \r\n  children: React.ReactNode; \r\n  allowedRoles?: string[] \r\n}> = ({ children, allowedRoles = [] }) => {\r\n  const { isAuthenticated, isLoading, hasAnyRole } = useAuth();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/auth\" replace />;\r\n  }\r\n\r\n  if (allowedRoles.length > 0 && !hasAnyRole(allowedRoles)) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\n// Dashboard wrapper component that handles data loading\r\nconst DashboardWrapper: React.FC<{ \r\n  children: (props: any) => React.ReactNode;\r\n  user: any;\r\n}> = ({ children, user }) => {\r\n  const [appointments, setAppointments] = React.useState([]);\r\n  const [services, setServices] = React.useState([]);\r\n  const [doctors, setDoctors] = React.useState([]);\r\n  const [availableSlots, setAvailableSlots] = React.useState([]);\r\n  const [patientId, setPatientId] = React.useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [isBooking, setIsBooking] = React.useState(false);\r\n  const [bookingError, setBookingError] = React.useState('');\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      \r\n      // Get the Patient ID from the ApplicationUser ID\r\n      const patient = await patientsAPI.getByUserId(user.id);\r\n      setPatientId(patient.id);\r\n      \r\n      const [appointmentsData, servicesData, doctorsData] = await Promise.all([\r\n        appointmentsAPI.getByPatient(patient.id),\r\n        servicesAPI.getAll(),\r\n        staffAPI.getByRole('doctor')\r\n      ]);\r\n      setAppointments(appointmentsData);\r\n      setServices(servicesData);\r\n      setDoctors(doctorsData);\r\n    } catch (error) {\r\n      console.error('Error loading dashboard data:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadAvailableSlots = async (date: string) => {\r\n    try {\r\n      console.log('Loading available slots for date:', date);\r\n      const slots = await appointmentsAPI.getAvailable(date);\r\n      console.log('Available slots received:', slots);\r\n      \r\n      // Calculate the day of the week for the requested date\r\n      const requestedDate = new Date(date);\r\n      const dayOfWeek = requestedDate.getDay(); // 0 = Sunday, 1 = Monday, etc.\r\n      \r\n      // Filter slots to only include the correct day of the week\r\n      const filteredSlots = slots.filter((slot: any) => slot.dayOfWeek === dayOfWeek);\r\n      console.log('Filtered slots for day', dayOfWeek, ':', filteredSlots);\r\n      \r\n      setAvailableSlots(filteredSlots);\r\n    } catch (error) {\r\n      console.error('Error loading available slots:', error);\r\n      setAvailableSlots([]);\r\n    }\r\n  };\r\n\r\n  const handleBookAppointment = async (bookingData: any) => {\r\n    try {\r\n      setIsBooking(true);\r\n      setBookingError('');\r\n      \r\n      // Calculate end time based on service duration\r\n      const selectedService = services.find((s: any) => s.id === bookingData.serviceId) as any;\r\n      \r\n      // Ensure startTime is in HH:mm:ss format\r\n      const startTimeFormatted = bookingData.startTime.includes(':') && bookingData.startTime.split(':').length === 2 \r\n        ? bookingData.startTime + ':00' \r\n        : bookingData.startTime;\r\n      \r\n      const startTime = new Date(`2000-01-01T${startTimeFormatted}`);\r\n      const endTime = new Date(startTime.getTime() + (selectedService?.durationMinutes || 30) * 60000);\r\n      \r\n      const endTimeString = endTime.toTimeString().slice(0, 8); // Format as HH:mm:ss\r\n      \r\n      await appointmentsAPI.create({\r\n        patientId: patientId,\r\n        serviceId: bookingData.serviceId,\r\n        staffId: bookingData.staffId,\r\n        appointmentDate: bookingData.appointmentDate,\r\n        startTime: startTimeFormatted,\r\n        endTime: endTimeString,\r\n        notes: bookingData.notes || ''\r\n      });\r\n\r\n      // Refresh appointments\r\n      await loadDashboardData();\r\n    } catch (error: any) {\r\n      console.error('Error booking appointment:', error);\r\n      setBookingError(error.response?.data?.error || error.message || 'Failed to book appointment');\r\n    } finally {\r\n      setIsBooking(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateAppointment = async (appointmentId: string, updateData: any) => {\r\n    try {\r\n      setIsBooking(true);\r\n      setBookingError('');\r\n      \r\n      // Calculate end time based on service duration\r\n      const selectedService = services.find((s: any) => s.id === updateData.serviceId) as any;\r\n      \r\n      // Ensure startTime is in HH:mm:ss format\r\n      const startTimeFormatted = updateData.startTime.includes(':') && updateData.startTime.split(':').length === 2 \r\n        ? updateData.startTime + ':00' \r\n        : updateData.startTime;\r\n      \r\n      const startTime = new Date(`2000-01-01T${startTimeFormatted}`);\r\n      const endTime = new Date(startTime.getTime() + (selectedService?.durationMinutes || 30) * 60000);\r\n      \r\n      const endTimeString = endTime.toTimeString().slice(0, 8); // Format as HH:mm:ss\r\n      \r\n      await appointmentsAPI.update(appointmentId, {\r\n        appointmentDate: updateData.appointmentDate,\r\n        startTime: startTimeFormatted,\r\n        endTime: endTimeString,\r\n        notes: updateData.notes || ''\r\n      });\r\n\r\n      // Refresh appointments\r\n      await loadDashboardData();\r\n    } catch (error: any) {\r\n      console.error('Error updating appointment:', error);\r\n      setBookingError(error.response?.data?.error || error.message || 'Failed to update appointment');\r\n    } finally {\r\n      setIsBooking(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelAppointment = async (appointmentId: string) => {\r\n    try {\r\n      setIsBooking(true);\r\n      setBookingError('');\r\n      \r\n      await appointmentsAPI.delete(appointmentId);\r\n\r\n      // Refresh appointments\r\n      await loadDashboardData();\r\n    } catch (error: any) {\r\n      console.error('Error canceling appointment:', error);\r\n      setBookingError(error.response?.data?.error || error.message || 'Failed to cancel appointment');\r\n    } finally {\r\n      setIsBooking(false);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    loadDashboardData();\r\n  }, [user.id]);\r\n\r\n  // Call children as a function with props\r\n  return children({\r\n    user,\r\n    appointments,\r\n    services,\r\n    doctors,\r\n    availableSlots,\r\n    isLoading,\r\n    isBooking,\r\n    bookingError,\r\n    onBookAppointment: handleBookAppointment,\r\n    onUpdateAppointment: handleUpdateAppointment,\r\n    onCancelAppointment: handleCancelAppointment,\r\n    onLoadAvailableSlots: loadAvailableSlots\r\n  });\r\n};\r\n\r\n// Doctor Dashboard wrapper component that handles doctor-specific data loading\r\nconst DoctorDashboardWrapper: React.FC<{ \r\n  children: (props: any) => React.ReactNode;\r\n  user: any;\r\n}> = ({ children, user }) => {\r\n  const [appointments, setAppointments] = React.useState([]);\r\n  const [patients, setPatients] = React.useState([]);\r\n  const [shiftSchedule, setShiftSchedule] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [isProcessing, setIsProcessing] = React.useState(false);\r\n  const [error, setError] = React.useState('');\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n\r\n      // Get doctor's appointments\r\n      const appointmentsData = await doctorAPI.getAllAppointments(user.id);\r\n      setAppointments(appointmentsData);\r\n\r\n      // Get doctor's patients\r\n      const patientsData = await doctorAPI.getPatients(user.id);\r\n      setPatients(patientsData);\r\n\r\n      // Get doctor's shift schedule\r\n      try {\r\n        const shiftData = await doctorAPI.getShiftSchedule(user.id);\r\n        setShiftSchedule(shiftData);\r\n      } catch (shiftError) {\r\n        // If no shift schedule exists, initialize with empty schedule\r\n        console.log('No shift schedule found, initializing empty schedule');\r\n        setShiftSchedule([]);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error loading doctor dashboard data:', error);\r\n      setError(error.response?.data?.error || error.message || 'Failed to load dashboard data');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApproveAppointment = async (appointmentId: string) => {\r\n    try {\r\n      setIsProcessing(true);\r\n      setError('');\r\n      await doctorAPI.approveAppointment(appointmentId);\r\n      await loadDashboardData(); // Refresh data\r\n    } catch (error: any) {\r\n      console.error('Error approving appointment:', error);\r\n      setError(error.response?.data?.error || error.message || 'Failed to approve appointment');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleRejectAppointment = async (appointmentId: string, reason: string) => {\r\n    try {\r\n      setIsProcessing(true);\r\n      setError('');\r\n      await doctorAPI.rejectAppointment(appointmentId, reason);\r\n      await loadDashboardData(); // Refresh data\r\n    } catch (error: any) {\r\n      console.error('Error rejecting appointment:', error);\r\n      setError(error.response?.data?.error || error.message || 'Failed to reject appointment');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateShiftSchedule = async (shiftData: any[]) => {\r\n    try {\r\n      setIsProcessing(true);\r\n      setError('');\r\n      await doctorAPI.updateShiftSchedule(user.id, shiftData);\r\n      await loadDashboardData(); // Refresh data\r\n    } catch (error: any) {\r\n      console.error('Error updating shift schedule:', error);\r\n      setError(error.response?.data?.error || error.message || 'Failed to update shift schedule');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleViewPatientDetails = async (patientId: string) => {\r\n    try {\r\n      setError('');\r\n      await doctorAPI.getPatientDetails(patientId);\r\n      // Patient details are handled in the modal, no need to update state\r\n    } catch (error: any) {\r\n      console.error('Error loading patient details:', error);\r\n      setError(error.response?.data?.error || error.message || 'Failed to load patient details');\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    loadDashboardData();\r\n  }, [user.id]);\r\n\r\n  // Call children as a function with props\r\n  return children({\r\n    user,\r\n    appointments,\r\n    patients,\r\n    shiftSchedule,\r\n    isLoading,\r\n    isProcessing,\r\n    error,\r\n    onApproveAppointment: handleApproveAppointment,\r\n    onRejectAppointment: handleRejectAppointment,\r\n    onUpdateShiftSchedule: handleUpdateShiftSchedule,\r\n    onViewPatientDetails: handleViewPatientDetails\r\n  });\r\n};\r\n\r\n// Main App Routes component\r\nconst AppRoutes: React.FC = () => {\r\n  const { isAuthenticated, user, login, register, logout, isLoading, error, clearError } = useAuth();\r\n\r\n  const handleLogin = async (email: string, password: string) => {\r\n    try {\r\n      await login({ email, password });\r\n    } catch (err) {\r\n      // Error is handled by AuthContext\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (userData: any) => {\r\n    try {\r\n      await register(userData);\r\n    } catch (err) {\r\n      // Error is handled by AuthContext\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Public Routes */}\r\n      <Route path=\"/\" element={<LandingPage />} />\r\n      <Route \r\n        path=\"/auth\" \r\n        element={\r\n          isAuthenticated ? (\r\n            <Navigate to={\r\n              user?.roles?.includes('admin') ? '/admin-dashboard' :\r\n              user?.roles?.includes('doctor') ? '/doctor-dashboard' : \r\n              '/patient-dashboard'\r\n            } replace />\r\n          ) : (\r\n            <AuthPage\r\n              onLogin={handleLogin}\r\n              onRegister={handleRegister}\r\n              isLoading={isLoading}\r\n              error={error}\r\n              clearError={clearError}\r\n            />\r\n          )\r\n        } \r\n      />\r\n\r\n      {/* Protected Routes */}\r\n      <Route\r\n        path=\"/patient-dashboard\"\r\n        element={\r\n          <ProtectedRoute allowedRoles={['patient']}>\r\n            <DashboardWrapper user={user}>\r\n              {(props) => <PatientDashboard {...props} onLogout={handleLogout} />}\r\n            </DashboardWrapper>\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      <Route\r\n        path=\"/doctor-dashboard\"\r\n        element={\r\n          <ProtectedRoute allowedRoles={['doctor']}>\r\n            <DoctorDashboardWrapper user={user}>\r\n              {(props) => <DoctorDashboard {...props} onLogout={handleLogout} />}\r\n            </DoctorDashboardWrapper>\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* Fallback Routes */}\r\n      <Route path=\"/unauthorized\" element={\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-2xl font-bold text-foreground mb-4\">Unauthorized</h1>\r\n            <p className=\"text-muted-foreground mb-4\">You don't have permission to access this page.</p>\r\n            <button \r\n              onClick={handleLogout}\r\n              className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n            >\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      } />\r\n      \r\n      <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\n// Main App component\r\nconst App: React.FC = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <AppRoutes />\r\n        </div>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}