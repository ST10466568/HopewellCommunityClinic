{"ast":null,"code":"import _objectSpread from\"C:/Project/HopewellClinic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Button}from'./ui/button';import{Input}from'./ui/input';import{Card,CardContent}from'./ui/card';import{Badge}from'./ui/badge';import{Dialog,DialogContent,DialogHeader,DialogTitle,DialogDescription,DialogFooter}from'./ui/dialog';import{Label}from'./ui/label';import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from'./ui/select';import{Textarea}from'./ui/textarea';import{Calendar,Clock,User,Search,Edit,Trash2,Save,X,ChevronLeft,ChevronRight,FileText,AlertCircle,CheckCircle,XCircle}from'lucide-react';import{appointmentsAPI,staffAPI,servicesAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AppointmentManagement=_ref=>{let{appointments,onRefresh,onApproveAppointment,onRejectAppointment}=_ref;const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage]=useState(10);const[editingAppointment,setEditingAppointment]=useState(null);const[isEditModalOpen,setIsEditModalOpen]=useState(false);const[isDeleteModalOpen,setIsDeleteModalOpen]=useState(false);const[appointmentToDelete,setAppointmentToDelete]=useState(null);const[isRejectModalOpen,setIsRejectModalOpen]=useState(false);const[appointmentToReject,setAppointmentToReject]=useState(null);const[rejectReason,setRejectReason]=useState('');const[doctors,setDoctors]=useState([]);const[services,setServices]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const[validationErrors,setValidationErrors]=useState({});// Form state for editing\nconst[editForm,setEditForm]=useState({appointmentDate:'',startTime:'',endTime:'',status:'',doctorId:'',serviceId:'',notes:''});useEffect(()=>{loadDoctorsAndServices();},[]);const loadDoctorsAndServices=async()=>{try{setIsLoading(true);const[doctorsData,servicesData]=await Promise.all([staffAPI.getAll(),servicesAPI.getAll()]);// Filter for active doctors only\nconst activeDoctors=doctorsData.filter(staff=>staff.role==='doctor'&&staff.isActive);setDoctors(activeDoctors);setServices(servicesData);}catch(error){console.error('Error loading doctors and services:',error);setError('Failed to load doctors and services');}finally{setIsLoading(false);}};// Filter appointments based on search term and status\nconst filteredAppointments=appointments.filter(appointment=>{const matchesSearch=appointment.patient.firstName.toLowerCase().includes(searchTerm.toLowerCase())||appointment.patient.lastName.toLowerCase().includes(searchTerm.toLowerCase())||appointment.patient.email.toLowerCase().includes(searchTerm.toLowerCase())||appointment.service.name.toLowerCase().includes(searchTerm.toLowerCase())||appointment.staff&&\"\".concat(appointment.staff.firstName,\" \").concat(appointment.staff.lastName).toLowerCase().includes(searchTerm.toLowerCase());const matchesStatus=statusFilter==='all'||appointment.status===statusFilter;return matchesSearch&&matchesStatus;});// Pagination\nconst totalPages=Math.ceil(filteredAppointments.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const currentAppointments=filteredAppointments.slice(startIndex,endIndex);const handlePageChange=page=>{setCurrentPage(page);};// Business rules validation (same as booking wizard)\nconst validateAppointmentData=data=>{const errors={};// Date validation\nif(!data.appointmentDate){errors.appointmentDate='Appointment date is required';}else{const selectedDate=new Date(data.appointmentDate);const today=new Date();today.setHours(0,0,0,0);const maxDate=new Date(today);maxDate.setDate(today.getDate()+30);if(selectedDate<today){errors.appointmentDate='Cannot book appointments in the past';}else if(selectedDate>maxDate){errors.appointmentDate='Cannot book appointments more than 30 days in advance';}}// Time validation\nif(!data.startTime){errors.startTime='Start time is required';}if(!data.endTime){errors.endTime='End time is required';}if(data.startTime&&data.endTime){const startTime=new Date(\"2000-01-01T\".concat(data.startTime));const endTime=new Date(\"2000-01-01T\".concat(data.endTime));if(endTime<=startTime){errors.endTime='End time must be after start time';}}// Doctor validation\nif(!data.doctorId){errors.doctorId='Doctor is required';}// Service validation\nif(!data.serviceId){errors.serviceId='Service is required';}// Status validation\nif(!data.status){errors.status='Status is required';}return errors;};const handleEditAppointment=appointment=>{var _appointment$staff;setEditingAppointment(appointment);setEditForm({appointmentDate:appointment.appointmentDate.split('T')[0],// Convert to YYYY-MM-DD format\nstartTime:appointment.startTime,endTime:appointment.endTime,status:appointment.status,doctorId:((_appointment$staff=appointment.staff)===null||_appointment$staff===void 0?void 0:_appointment$staff.id)||'',serviceId:appointment.service.id,notes:appointment.notes||''});setValidationErrors({});setIsEditModalOpen(true);};const handleSaveAppointment=async()=>{if(!editingAppointment)return;// Validate form data\nconst errors=validateAppointmentData(editForm);if(Object.keys(errors).length>0){setValidationErrors(errors);return;}try{setIsLoading(true);setError('');// Prepare update data\nconst updateData={appointmentDate:editForm.appointmentDate,startTime:editForm.startTime,endTime:editForm.endTime,status:editForm.status,staffId:editForm.doctorId,serviceId:editForm.serviceId,notes:editForm.notes};await appointmentsAPI.update(editingAppointment.id,updateData);// Close modal and refresh data\nsetIsEditModalOpen(false);setEditingAppointment(null);onRefresh();}catch(error){console.error('Error updating appointment:',error);setError(error.message||'Failed to update appointment');}finally{setIsLoading(false);}};const handleDeleteAppointment=appointment=>{setAppointmentToDelete(appointment);setIsDeleteModalOpen(true);};const confirmDeleteAppointment=async()=>{if(!appointmentToDelete)return;try{setIsLoading(true);setError('');await appointmentsAPI.delete(appointmentToDelete.id);// Close modal and refresh data\nsetIsDeleteModalOpen(false);setAppointmentToDelete(null);onRefresh();}catch(error){console.error('Error deleting appointment:',error);setError(error.message||'Failed to delete appointment');}finally{setIsLoading(false);}};const handleApproveAppointment=async appointmentId=>{if(onApproveAppointment){try{setIsLoading(true);setError('');await onApproveAppointment(appointmentId);onRefresh();}catch(error){console.error('Error approving appointment:',error);setError(error.message||'Failed to approve appointment');}finally{setIsLoading(false);}}};const handleRejectAppointment=appointment=>{setAppointmentToReject(appointment);setRejectReason('');setIsRejectModalOpen(true);};const confirmRejectAppointment=async()=>{if(!appointmentToReject||!onRejectAppointment)return;try{setIsLoading(true);setError('');await onRejectAppointment(appointmentToReject.id,rejectReason);// Close modal and refresh data\nsetIsRejectModalOpen(false);setAppointmentToReject(null);setRejectReason('');onRefresh();}catch(error){console.error('Error rejecting appointment:',error);setError(error.message||'Failed to reject appointment');}finally{setIsLoading(false);}};const getStatusBadge=status=>{const statusConfig={confirmed:{variant:'default',icon:CheckCircle,className:'bg-green-100 text-green-800'},pending:{variant:'secondary',icon:AlertCircle,className:'bg-yellow-100 text-yellow-800'},cancelled:{variant:'destructive',icon:XCircle,className:'bg-red-100 text-red-800'},completed:{variant:'outline',icon:CheckCircle,className:'bg-blue-100 text-blue-800'}};const config=statusConfig[status]||statusConfig.pending;const Icon=config.icon;return/*#__PURE__*/_jsxs(Badge,{variant:config.variant,className:config.className,children:[/*#__PURE__*/_jsx(Icon,{className:\"h-3 w-3 mr-1\"}),status.charAt(0).toUpperCase()+status.slice(1)]});};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{weekday:'short',year:'numeric',month:'short',day:'numeric'});};const formatTime=timeString=>{const time=new Date(\"2000-01-01T\".concat(timeString));return time.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true});};const getMinDate=()=>{const today=new Date();return today.toISOString().split('T')[0];};const getMaxDate=()=>{const maxDate=new Date();maxDate.setDate(maxDate.getDate()+30);return maxDate.toISOString().split('T')[0];};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Appointment Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"Manage all appointments with search, pagination, and editing capabilities\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground\",children:[\"Showing \",filteredAppointments.length,\" of \",appointments.length,\" appointments\"]})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Search by patient name, email, service, or doctor...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full sm:w-48\",children:/*#__PURE__*/_jsxs(Select,{value:statusFilter,onValueChange:setStatusFilter,children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Filter by status\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"all\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"confirmed\",children:\"Confirmed\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"cancelled\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"completed\",children:\"Completed\"})]})]})})]})})}),error&&/*#__PURE__*/_jsx(Card,{className:\"border-destructive\",children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-destructive\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:error})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:currentAppointments.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-12 w-12 text-muted-foreground mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:searchTerm||statusFilter!=='all'?'No appointments match your search criteria':'No appointments found'})]})})}):currentAppointments.map(appointment=>/*#__PURE__*/_jsx(Card,{className:\"hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-muted-foreground\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[appointment.patient.firstName,\" \",appointment.patient.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-muted-foreground\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-muted-foreground\",children:formatDate(appointment.appointmentDate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-muted-foreground\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[formatTime(appointment.startTime),\" - \",formatTime(appointment.endTime)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted-foreground\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Service:\"}),\" \",appointment.service.name,\" (\",appointment.service.durationMinutes,\" min)\"]}),appointment.staff&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted-foreground\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Doctor:\"}),\" Dr. \",appointment.staff.firstName,\" \",appointment.staff.lastName]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",appointment.patient.email]})}),appointment.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 text-muted-foreground mt-0.5\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",appointment.notes]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[getStatusBadge(appointment.status),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[appointment.status==='pending'&&onApproveAppointment&&onRejectAppointment&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:()=>handleApproveAppointment(appointment.id),disabled:isLoading,className:\"bg-green-600 hover:bg-green-700 text-white\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"destructive\",onClick:()=>handleRejectAppointment(appointment),disabled:isLoading,children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleEditAppointment(appointment),disabled:isLoading,children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handleDeleteAppointment(appointment),disabled:isLoading,className:\"text-destructive hover:text-destructive\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]})]})})},appointment.id))}),totalPages>1&&/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground\",children:[\"Showing \",startIndex+1,\" to \",Math.min(endIndex,filteredAppointments.length),\" of \",filteredAppointments.length,\" appointments\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handlePageChange(currentPage-1),disabled:currentPage===1,children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4\"}),\"Previous\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1\",children:Array.from({length:totalPages},(_,i)=>i+1).map(page=>/*#__PURE__*/_jsx(Button,{variant:currentPage===page?\"default\":\"outline\",size:\"sm\",onClick:()=>handlePageChange(page),className:\"w-8 h-8 p-0\",children:page},page))}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>handlePageChange(currentPage+1),disabled:currentPage===totalPages,children:[\"Next\",/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4\"})]})]})]})})}),/*#__PURE__*/_jsx(Dialog,{open:isEditModalOpen,onOpenChange:setIsEditModalOpen,children:/*#__PURE__*/_jsxs(DialogContent,{className:\"max-w-2xl\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit Appointment\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Patient Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-muted rounded-md text-sm\",children:[editingAppointment===null||editingAppointment===void 0?void 0:editingAppointment.patient.firstName,\" \",editingAppointment===null||editingAppointment===void 0?void 0:editingAppointment.patient.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Patient Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-muted rounded-md text-sm\",children:editingAppointment===null||editingAppointment===void 0?void 0:editingAppointment.patient.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"appointmentDate\",children:\"Appointment Date *\"}),/*#__PURE__*/_jsx(Input,{id:\"appointmentDate\",type:\"date\",value:editForm.appointmentDate,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{appointmentDate:e.target.value})),min:getMinDate(),max:getMaxDate(),className:validationErrors.appointmentDate?'border-destructive':''}),validationErrors.appointmentDate&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-destructive mt-1\",children:validationErrors.appointmentDate})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"status\",children:\"Status *\"}),/*#__PURE__*/_jsxs(Select,{value:editForm.status,onValueChange:value=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{status:value})),children:[/*#__PURE__*/_jsx(SelectTrigger,{className:validationErrors.status?'border-destructive':'',children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select status\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"confirmed\",children:\"Confirmed\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"cancelled\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"completed\",children:\"Completed\"})]})]}),validationErrors.status&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-destructive mt-1\",children:validationErrors.status})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"startTime\",children:\"Start Time *\"}),/*#__PURE__*/_jsx(Input,{id:\"startTime\",type:\"time\",value:editForm.startTime,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{startTime:e.target.value})),className:validationErrors.startTime?'border-destructive':''}),validationErrors.startTime&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-destructive mt-1\",children:validationErrors.startTime})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"endTime\",children:\"End Time *\"}),/*#__PURE__*/_jsx(Input,{id:\"endTime\",type:\"time\",value:editForm.endTime,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{endTime:e.target.value})),className:validationErrors.endTime?'border-destructive':''}),validationErrors.endTime&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-destructive mt-1\",children:validationErrors.endTime})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"doctorId\",children:\"Doctor *\"}),/*#__PURE__*/_jsxs(Select,{value:editForm.doctorId,onValueChange:value=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{doctorId:value})),children:[/*#__PURE__*/_jsx(SelectTrigger,{className:validationErrors.doctorId?'border-destructive':'',children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select doctor\"})}),/*#__PURE__*/_jsx(SelectContent,{children:doctors.map(doctor=>/*#__PURE__*/_jsxs(SelectItem,{value:doctor.id,children:[\"Dr. \",doctor.firstName,\" \",doctor.lastName]},doctor.id))})]}),validationErrors.doctorId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-destructive mt-1\",children:validationErrors.doctorId})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"serviceId\",children:\"Service *\"}),/*#__PURE__*/_jsxs(Select,{value:editForm.serviceId,onValueChange:value=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{serviceId:value})),children:[/*#__PURE__*/_jsx(SelectTrigger,{className:validationErrors.serviceId?'border-destructive':'',children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select service\"})}),/*#__PURE__*/_jsx(SelectContent,{children:services.map(service=>/*#__PURE__*/_jsxs(SelectItem,{value:service.id,children:[service.name,\" (\",service.durationMinutes,\" min)\"]},service.id))})]}),validationErrors.serviceId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-destructive mt-1\",children:validationErrors.serviceId})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"notes\",children:\"Notes\"}),/*#__PURE__*/_jsx(Textarea,{id:\"notes\",value:editForm.notes,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{notes:e.target.value})),placeholder:\"Additional notes...\",rows:3})]})]}),/*#__PURE__*/_jsxs(DialogFooter,{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:()=>setIsEditModalOpen(false),children:[/*#__PURE__*/_jsx(X,{className:\"h-4 w-4 mr-2\"}),\"Cancel\"]}),/*#__PURE__*/_jsxs(Button,{onClick:handleSaveAppointment,disabled:isLoading,children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),isLoading?'Saving...':'Save Changes']})]})]})}),/*#__PURE__*/_jsx(Dialog,{open:isDeleteModalOpen,onOpenChange:setIsDeleteModalOpen,children:/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{children:\"Delete Appointment\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground\",children:\"Are you sure you want to delete this appointment? This action cannot be undone.\"}),appointmentToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-muted rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[appointmentToDelete.patient.firstName,\" \",appointmentToDelete.patient.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground\",children:[formatDate(appointmentToDelete.appointmentDate),\" at \",formatTime(appointmentToDelete.startTime)]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-muted-foreground\",children:appointmentToDelete.service.name})]})})]}),/*#__PURE__*/_jsxs(DialogFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setIsDeleteModalOpen(false),children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{variant:\"destructive\",onClick:confirmDeleteAppointment,disabled:isLoading,children:[/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4 mr-2\"}),isLoading?'Deleting...':'Delete Appointment']})]})]})}),/*#__PURE__*/_jsx(Dialog,{open:isRejectModalOpen,onOpenChange:setIsRejectModalOpen,children:/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(DialogHeader,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Reject Appointment\"}),/*#__PURE__*/_jsx(DialogDescription,{children:\"Please provide a reason for rejecting this appointment\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[appointmentToReject&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-muted rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium\",children:[appointmentToReject.patient.firstName,\" \",appointmentToReject.patient.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[formatDate(appointmentToReject.appointmentDate),\" at \",formatTime(appointmentToReject.startTime)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"Service: \",appointmentToReject.service.name]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"reject-reason\",children:\"Reason for rejection *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"reject-reason\",value:rejectReason,onChange:e=>setRejectReason(e.target.value),className:\"w-full h-20 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none\",placeholder:\"Please explain why this appointment is being rejected...\",required:true})]})]}),/*#__PURE__*/_jsxs(DialogFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setIsRejectModalOpen(false),children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{variant:\"destructive\",onClick:confirmRejectAppointment,disabled:!rejectReason.trim()||isLoading,children:[/*#__PURE__*/_jsx(X,{className:\"h-4 w-4 mr-2\"}),isLoading?'Rejecting...':'Reject Appointment']})]})]})})]});};export default AppointmentManagement;","map":{"version":3,"names":["React","useState","useEffect","Button","Input","Card","CardContent","Badge","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","DialogFooter","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Textarea","Calendar","Clock","User","Search","Edit","Trash2","Save","X","ChevronLeft","ChevronRight","FileText","AlertCircle","CheckCircle","XCircle","appointmentsAPI","staffAPI","servicesAPI","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppointmentManagement","_ref","appointments","onRefresh","onApproveAppointment","onRejectAppointment","searchTerm","setSearchTerm","statusFilter","setStatusFilter","currentPage","setCurrentPage","itemsPerPage","editingAppointment","setEditingAppointment","isEditModalOpen","setIsEditModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","appointmentToDelete","setAppointmentToDelete","isRejectModalOpen","setIsRejectModalOpen","appointmentToReject","setAppointmentToReject","rejectReason","setRejectReason","doctors","setDoctors","services","setServices","isLoading","setIsLoading","error","setError","validationErrors","setValidationErrors","editForm","setEditForm","appointmentDate","startTime","endTime","status","doctorId","serviceId","notes","loadDoctorsAndServices","doctorsData","servicesData","Promise","all","getAll","activeDoctors","filter","staff","role","isActive","console","filteredAppointments","appointment","matchesSearch","patient","firstName","toLowerCase","includes","lastName","email","service","name","concat","matchesStatus","totalPages","Math","ceil","length","startIndex","endIndex","currentAppointments","slice","handlePageChange","page","validateAppointmentData","data","errors","selectedDate","Date","today","setHours","maxDate","setDate","getDate","handleEditAppointment","_appointment$staff","split","id","handleSaveAppointment","Object","keys","updateData","staffId","update","message","handleDeleteAppointment","confirmDeleteAppointment","delete","handleApproveAppointment","appointmentId","handleRejectAppointment","confirmRejectAppointment","getStatusBadge","statusConfig","confirmed","variant","icon","className","pending","cancelled","completed","config","Icon","children","charAt","toUpperCase","formatDate","dateString","date","toLocaleDateString","weekday","year","month","day","formatTime","timeString","time","toLocaleTimeString","hour","minute","hour12","getMinDate","toISOString","getMaxDate","placeholder","value","onChange","e","target","onValueChange","map","durationMinutes","size","onClick","disabled","min","Array","from","_","i","open","onOpenChange","htmlFor","type","_objectSpread","max","doctor","rows","required","trim"],"sources":["C:/Project/HopewellClinic/src/components/AppointmentManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\r\nimport { Badge } from './ui/badge';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from './ui/dialog';\r\nimport { Label } from './ui/label';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\r\nimport { Textarea } from './ui/textarea';\r\nimport { \r\n  Calendar, \r\n  Clock, \r\n  User, \r\n  Search, \r\n  Edit, \r\n  Trash2, \r\n  Save, \r\n  X, \r\n  ChevronLeft, \r\n  ChevronRight,\r\n  FileText,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle\r\n} from 'lucide-react';\r\nimport { appointmentsAPI, staffAPI, servicesAPI } from '../services/api';\r\n\r\ninterface Appointment {\r\n  id: string;\r\n  appointmentDate: string;\r\n  startTime: string;\r\n  endTime: string;\r\n  status: string;\r\n  notes?: string;\r\n  patient: {\r\n    id: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n  };\r\n  service: {\r\n    id: string;\r\n    name: string;\r\n    durationMinutes: number;\r\n    price?: number;\r\n  };\r\n  staff?: {\r\n    id: string;\r\n    firstName: string;\r\n    lastName: string;\r\n  };\r\n}\r\n\r\ninterface Doctor {\r\n  id: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  role: string;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface Service {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n  durationMinutes: number;\r\n  price?: number;\r\n}\r\n\r\ninterface AppointmentManagementProps {\r\n  appointments: Appointment[];\r\n  onRefresh: () => void;\r\n  onApproveAppointment?: (appointmentId: string) => Promise<void>;\r\n  onRejectAppointment?: (appointmentId: string, reason: string) => Promise<void>;\r\n}\r\n\r\nconst AppointmentManagement: React.FC<AppointmentManagementProps> = ({ \r\n  appointments, \r\n  onRefresh,\r\n  onApproveAppointment,\r\n  onRejectAppointment\r\n}) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(10);\r\n  const [editingAppointment, setEditingAppointment] = useState<Appointment | null>(null);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [appointmentToDelete, setAppointmentToDelete] = useState<Appointment | null>(null);\r\n  const [isRejectModalOpen, setIsRejectModalOpen] = useState(false);\r\n  const [appointmentToReject, setAppointmentToReject] = useState<Appointment | null>(null);\r\n  const [rejectReason, setRejectReason] = useState('');\r\n  const [doctors, setDoctors] = useState<Doctor[]>([]);\r\n  const [services, setServices] = useState<Service[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [validationErrors, setValidationErrors] = useState<{[key: string]: string}>({});\r\n\r\n  // Form state for editing\r\n  const [editForm, setEditForm] = useState({\r\n    appointmentDate: '',\r\n    startTime: '',\r\n    endTime: '',\r\n    status: '',\r\n    doctorId: '',\r\n    serviceId: '',\r\n    notes: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadDoctorsAndServices();\r\n  }, []);\r\n\r\n  const loadDoctorsAndServices = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const [doctorsData, servicesData] = await Promise.all([\r\n        staffAPI.getAll(),\r\n        servicesAPI.getAll()\r\n      ]);\r\n      \r\n      // Filter for active doctors only\r\n      const activeDoctors = doctorsData.filter((staff: any) => \r\n        staff.role === 'doctor' && staff.isActive\r\n      );\r\n      \r\n      setDoctors(activeDoctors);\r\n      setServices(servicesData);\r\n    } catch (error) {\r\n      console.error('Error loading doctors and services:', error);\r\n      setError('Failed to load doctors and services');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filter appointments based on search term and status\r\n  const filteredAppointments = appointments.filter(appointment => {\r\n    const matchesSearch = \r\n      appointment.patient.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      appointment.patient.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      appointment.patient.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      appointment.service.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (appointment.staff && \r\n        `${appointment.staff.firstName} ${appointment.staff.lastName}`.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n\r\n    const matchesStatus = statusFilter === 'all' || appointment.status === statusFilter;\r\n    \r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(filteredAppointments.length / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  const currentAppointments = filteredAppointments.slice(startIndex, endIndex);\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  // Business rules validation (same as booking wizard)\r\n  const validateAppointmentData = (data: any): {[key: string]: string} => {\r\n    const errors: {[key: string]: string} = {};\r\n\r\n    // Date validation\r\n    if (!data.appointmentDate) {\r\n      errors.appointmentDate = 'Appointment date is required';\r\n    } else {\r\n      const selectedDate = new Date(data.appointmentDate);\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n      \r\n      const maxDate = new Date(today);\r\n      maxDate.setDate(today.getDate() + 30);\r\n      \r\n      if (selectedDate < today) {\r\n        errors.appointmentDate = 'Cannot book appointments in the past';\r\n      } else if (selectedDate > maxDate) {\r\n        errors.appointmentDate = 'Cannot book appointments more than 30 days in advance';\r\n      }\r\n    }\r\n\r\n    // Time validation\r\n    if (!data.startTime) {\r\n      errors.startTime = 'Start time is required';\r\n    }\r\n    if (!data.endTime) {\r\n      errors.endTime = 'End time is required';\r\n    }\r\n    if (data.startTime && data.endTime) {\r\n      const startTime = new Date(`2000-01-01T${data.startTime}`);\r\n      const endTime = new Date(`2000-01-01T${data.endTime}`);\r\n      if (endTime <= startTime) {\r\n        errors.endTime = 'End time must be after start time';\r\n      }\r\n    }\r\n\r\n    // Doctor validation\r\n    if (!data.doctorId) {\r\n      errors.doctorId = 'Doctor is required';\r\n    }\r\n\r\n    // Service validation\r\n    if (!data.serviceId) {\r\n      errors.serviceId = 'Service is required';\r\n    }\r\n\r\n    // Status validation\r\n    if (!data.status) {\r\n      errors.status = 'Status is required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const handleEditAppointment = (appointment: Appointment) => {\r\n    setEditingAppointment(appointment);\r\n    setEditForm({\r\n      appointmentDate: appointment.appointmentDate.split('T')[0], // Convert to YYYY-MM-DD format\r\n      startTime: appointment.startTime,\r\n      endTime: appointment.endTime,\r\n      status: appointment.status,\r\n      doctorId: appointment.staff?.id || '',\r\n      serviceId: appointment.service.id,\r\n      notes: appointment.notes || ''\r\n    });\r\n    setValidationErrors({});\r\n    setIsEditModalOpen(true);\r\n  };\r\n\r\n  const handleSaveAppointment = async () => {\r\n    if (!editingAppointment) return;\r\n\r\n    // Validate form data\r\n    const errors = validateAppointmentData(editForm);\r\n    if (Object.keys(errors).length > 0) {\r\n      setValidationErrors(errors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n\r\n      // Prepare update data\r\n      const updateData = {\r\n        appointmentDate: editForm.appointmentDate,\r\n        startTime: editForm.startTime,\r\n        endTime: editForm.endTime,\r\n        status: editForm.status,\r\n        staffId: editForm.doctorId,\r\n        serviceId: editForm.serviceId,\r\n        notes: editForm.notes\r\n      };\r\n\r\n      await appointmentsAPI.update(editingAppointment.id, updateData);\r\n      \r\n      // Close modal and refresh data\r\n      setIsEditModalOpen(false);\r\n      setEditingAppointment(null);\r\n      onRefresh();\r\n      \r\n    } catch (error: any) {\r\n      console.error('Error updating appointment:', error);\r\n      setError(error.message || 'Failed to update appointment');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAppointment = (appointment: Appointment) => {\r\n    setAppointmentToDelete(appointment);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const confirmDeleteAppointment = async () => {\r\n    if (!appointmentToDelete) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n\r\n      await appointmentsAPI.delete(appointmentToDelete.id);\r\n      \r\n      // Close modal and refresh data\r\n      setIsDeleteModalOpen(false);\r\n      setAppointmentToDelete(null);\r\n      onRefresh();\r\n      \r\n    } catch (error: any) {\r\n      console.error('Error deleting appointment:', error);\r\n      setError(error.message || 'Failed to delete appointment');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApproveAppointment = async (appointmentId: string) => {\r\n    if (onApproveAppointment) {\r\n      try {\r\n        setIsLoading(true);\r\n        setError('');\r\n        await onApproveAppointment(appointmentId);\r\n        onRefresh();\r\n      } catch (error: any) {\r\n        console.error('Error approving appointment:', error);\r\n        setError(error.message || 'Failed to approve appointment');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRejectAppointment = (appointment: Appointment) => {\r\n    setAppointmentToReject(appointment);\r\n    setRejectReason('');\r\n    setIsRejectModalOpen(true);\r\n  };\r\n\r\n  const confirmRejectAppointment = async () => {\r\n    if (!appointmentToReject || !onRejectAppointment) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      await onRejectAppointment(appointmentToReject.id, rejectReason);\r\n      \r\n      // Close modal and refresh data\r\n      setIsRejectModalOpen(false);\r\n      setAppointmentToReject(null);\r\n      setRejectReason('');\r\n      onRefresh();\r\n      \r\n    } catch (error: any) {\r\n      console.error('Error rejecting appointment:', error);\r\n      setError(error.message || 'Failed to reject appointment');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const statusConfig = {\r\n      confirmed: { variant: 'default' as const, icon: CheckCircle, className: 'bg-green-100 text-green-800' },\r\n      pending: { variant: 'secondary' as const, icon: AlertCircle, className: 'bg-yellow-100 text-yellow-800' },\r\n      cancelled: { variant: 'destructive' as const, icon: XCircle, className: 'bg-red-100 text-red-800' },\r\n      completed: { variant: 'outline' as const, icon: CheckCircle, className: 'bg-blue-100 text-blue-800' }\r\n    };\r\n\r\n    const config = statusConfig[status as keyof typeof statusConfig] || statusConfig.pending;\r\n    const Icon = config.icon;\r\n\r\n    return (\r\n      <Badge variant={config.variant} className={config.className}>\r\n        <Icon className=\"h-3 w-3 mr-1\" />\r\n        {status.charAt(0).toUpperCase() + status.slice(1)}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const formatTime = (timeString: string) => {\r\n    const time = new Date(`2000-01-01T${timeString}`);\r\n    return time.toLocaleTimeString('en-US', {\r\n      hour: 'numeric',\r\n      minute: '2-digit',\r\n      hour12: true\r\n    });\r\n  };\r\n\r\n  const getMinDate = () => {\r\n    const today = new Date();\r\n    return today.toISOString().split('T')[0];\r\n  };\r\n\r\n  const getMaxDate = () => {\r\n    const maxDate = new Date();\r\n    maxDate.setDate(maxDate.getDate() + 30);\r\n    return maxDate.toISOString().split('T')[0];\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Appointment Management</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage all appointments with search, pagination, and editing capabilities\r\n          </p>\r\n        </div>\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          Showing {filteredAppointments.length} of {appointments.length} appointments\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Search by patient name, email, service, or doctor...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"w-full sm:w-48\">\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Filter by status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Statuses</SelectItem>\r\n                  <SelectItem value=\"pending\">Pending</SelectItem>\r\n                  <SelectItem value=\"confirmed\">Confirmed</SelectItem>\r\n                  <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n                  <SelectItem value=\"completed\">Completed</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <Card className=\"border-destructive\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center space-x-2 text-destructive\">\r\n              <AlertCircle className=\"h-4 w-4\" />\r\n              <span>{error}</span>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Appointments List */}\r\n      <div className=\"space-y-4\">\r\n        {currentAppointments.length === 0 ? (\r\n          <Card>\r\n            <CardContent className=\"pt-6\">\r\n              <div className=\"text-center py-8\">\r\n                <Calendar className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\r\n                <p className=\"text-muted-foreground\">\r\n                  {searchTerm || statusFilter !== 'all' \r\n                    ? 'No appointments match your search criteria' \r\n                    : 'No appointments found'\r\n                  }\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          currentAppointments.map((appointment) => (\r\n            <Card key={appointment.id} className=\"hover:shadow-md transition-shadow\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1 space-y-3\">\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <User className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <span className=\"font-medium\">\r\n                          {appointment.patient.firstName} {appointment.patient.lastName}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <span className=\"text-sm text-muted-foreground\">\r\n                          {formatDate(appointment.appointmentDate)}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <span className=\"text-sm text-muted-foreground\">\r\n                          {formatTime(appointment.startTime)} - {formatTime(appointment.endTime)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center space-x-4 text-sm\">\r\n                        <span className=\"text-muted-foreground\">\r\n                          <strong>Service:</strong> {appointment.service.name} ({appointment.service.durationMinutes} min)\r\n                        </span>\r\n                        {appointment.staff && (\r\n                          <span className=\"text-muted-foreground\">\r\n                            <strong>Doctor:</strong> Dr. {appointment.staff.firstName} {appointment.staff.lastName}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm text-muted-foreground\">\r\n                          <strong>Email:</strong> {appointment.patient.email}\r\n                        </span>\r\n                      </div>\r\n                      {appointment.notes && (\r\n                        <div className=\"flex items-start space-x-2\">\r\n                          <FileText className=\"h-4 w-4 text-muted-foreground mt-0.5\" />\r\n                          <span className=\"text-sm text-muted-foreground\">\r\n                            <strong>Notes:</strong> {appointment.notes}\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    {getStatusBadge(appointment.status)}\r\n                    <div className=\"flex space-x-1\">\r\n                      {/* Approval/Rejection buttons for pending appointments */}\r\n                      {appointment.status === 'pending' && onApproveAppointment && onRejectAppointment && (\r\n                        <>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            onClick={() => handleApproveAppointment(appointment.id)}\r\n                            disabled={isLoading}\r\n                            className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n                          >\r\n                            <CheckCircle className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"destructive\"\r\n                            onClick={() => handleRejectAppointment(appointment)}\r\n                            disabled={isLoading}\r\n                          >\r\n                            <X className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleEditAppointment(appointment)}\r\n                        disabled={isLoading}\r\n                      >\r\n                        <Edit className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDeleteAppointment(appointment)}\r\n                        disabled={isLoading}\r\n                        className=\"text-destructive hover:text-destructive\"\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                Showing {startIndex + 1} to {Math.min(endIndex, filteredAppointments.length)} of {filteredAppointments.length} appointments\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handlePageChange(currentPage - 1)}\r\n                  disabled={currentPage === 1}\r\n                >\r\n                  <ChevronLeft className=\"h-4 w-4\" />\r\n                  Previous\r\n                </Button>\r\n                <div className=\"flex items-center space-x-1\">\r\n                  {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n                    <Button\r\n                      key={page}\r\n                      variant={currentPage === page ? \"default\" : \"outline\"}\r\n                      size=\"sm\"\r\n                      onClick={() => handlePageChange(page)}\r\n                      className=\"w-8 h-8 p-0\"\r\n                    >\r\n                      {page}\r\n                    </Button>\r\n                  ))}\r\n                </div>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => handlePageChange(currentPage + 1)}\r\n                  disabled={currentPage === totalPages}\r\n                >\r\n                  Next\r\n                  <ChevronRight className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Edit Appointment Modal */}\r\n      <Dialog open={isEditModalOpen} onOpenChange={setIsEditModalOpen}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Edit Appointment</DialogTitle>\r\n          </DialogHeader>\r\n          \r\n          <div className=\"space-y-6\">\r\n            {/* Patient Info (Read-only) */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label>Patient Name</Label>\r\n                <div className=\"p-2 bg-muted rounded-md text-sm\">\r\n                  {editingAppointment?.patient.firstName} {editingAppointment?.patient.lastName}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Label>Patient Email</Label>\r\n                <div className=\"p-2 bg-muted rounded-md text-sm\">\r\n                  {editingAppointment?.patient.email}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Appointment Details */}\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label htmlFor=\"appointmentDate\">Appointment Date *</Label>\r\n                <Input\r\n                  id=\"appointmentDate\"\r\n                  type=\"date\"\r\n                  value={editForm.appointmentDate}\r\n                  onChange={(e) => setEditForm({...editForm, appointmentDate: e.target.value})}\r\n                  min={getMinDate()}\r\n                  max={getMaxDate()}\r\n                  className={validationErrors.appointmentDate ? 'border-destructive' : ''}\r\n                />\r\n                {validationErrors.appointmentDate && (\r\n                  <p className=\"text-sm text-destructive mt-1\">{validationErrors.appointmentDate}</p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"status\">Status *</Label>\r\n                <Select value={editForm.status} onValueChange={(value: string) => setEditForm({...editForm, status: value})}>\r\n                  <SelectTrigger className={validationErrors.status ? 'border-destructive' : ''}>\r\n                    <SelectValue placeholder=\"Select status\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"pending\">Pending</SelectItem>\r\n                    <SelectItem value=\"confirmed\">Confirmed</SelectItem>\r\n                    <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n                    <SelectItem value=\"completed\">Completed</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                {validationErrors.status && (\r\n                  <p className=\"text-sm text-destructive mt-1\">{validationErrors.status}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label htmlFor=\"startTime\">Start Time *</Label>\r\n                <Input\r\n                  id=\"startTime\"\r\n                  type=\"time\"\r\n                  value={editForm.startTime}\r\n                  onChange={(e) => setEditForm({...editForm, startTime: e.target.value})}\r\n                  className={validationErrors.startTime ? 'border-destructive' : ''}\r\n                />\r\n                {validationErrors.startTime && (\r\n                  <p className=\"text-sm text-destructive mt-1\">{validationErrors.startTime}</p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"endTime\">End Time *</Label>\r\n                <Input\r\n                  id=\"endTime\"\r\n                  type=\"time\"\r\n                  value={editForm.endTime}\r\n                  onChange={(e) => setEditForm({...editForm, endTime: e.target.value})}\r\n                  className={validationErrors.endTime ? 'border-destructive' : ''}\r\n                />\r\n                {validationErrors.endTime && (\r\n                  <p className=\"text-sm text-destructive mt-1\">{validationErrors.endTime}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <Label htmlFor=\"doctorId\">Doctor *</Label>\r\n                <Select value={editForm.doctorId} onValueChange={(value: string) => setEditForm({...editForm, doctorId: value})}>\r\n                  <SelectTrigger className={validationErrors.doctorId ? 'border-destructive' : ''}>\r\n                    <SelectValue placeholder=\"Select doctor\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {doctors.map((doctor) => (\r\n                      <SelectItem key={doctor.id} value={doctor.id}>\r\n                        Dr. {doctor.firstName} {doctor.lastName}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n                {validationErrors.doctorId && (\r\n                  <p className=\"text-sm text-destructive mt-1\">{validationErrors.doctorId}</p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"serviceId\">Service *</Label>\r\n                <Select value={editForm.serviceId} onValueChange={(value: string) => setEditForm({...editForm, serviceId: value})}>\r\n                  <SelectTrigger className={validationErrors.serviceId ? 'border-destructive' : ''}>\r\n                    <SelectValue placeholder=\"Select service\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {services.map((service) => (\r\n                      <SelectItem key={service.id} value={service.id}>\r\n                        {service.name} ({service.durationMinutes} min)\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n                {validationErrors.serviceId && (\r\n                  <p className=\"text-sm text-destructive mt-1\">{validationErrors.serviceId}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"notes\">Notes</Label>\r\n              <Textarea\r\n                id=\"notes\"\r\n                value={editForm.notes}\r\n                onChange={(e) => setEditForm({...editForm, notes: e.target.value})}\r\n                placeholder=\"Additional notes...\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsEditModalOpen(false)}>\r\n              <X className=\"h-4 w-4 mr-2\" />\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSaveAppointment} disabled={isLoading}>\r\n              <Save className=\"h-4 w-4 mr-2\" />\r\n              {isLoading ? 'Saving...' : 'Save Changes'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <Dialog open={isDeleteModalOpen} onOpenChange={setIsDeleteModalOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Delete Appointment</DialogTitle>\r\n          </DialogHeader>\r\n          \r\n          <div className=\"space-y-4\">\r\n            <p className=\"text-muted-foreground\">\r\n              Are you sure you want to delete this appointment? This action cannot be undone.\r\n            </p>\r\n            \r\n            {appointmentToDelete && (\r\n              <div className=\"p-4 bg-muted rounded-lg\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"font-medium\">\r\n                    {appointmentToDelete.patient.firstName} {appointmentToDelete.patient.lastName}\r\n                  </div>\r\n                  <div className=\"text-sm text-muted-foreground\">\r\n                    {formatDate(appointmentToDelete.appointmentDate)} at {formatTime(appointmentToDelete.startTime)}\r\n                  </div>\r\n                  <div className=\"text-sm text-muted-foreground\">\r\n                    {appointmentToDelete.service.name}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsDeleteModalOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              variant=\"destructive\" \r\n              onClick={confirmDeleteAppointment} \r\n              disabled={isLoading}\r\n            >\r\n              <Trash2 className=\"h-4 w-4 mr-2\" />\r\n              {isLoading ? 'Deleting...' : 'Delete Appointment'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Reject Appointment Modal */}\r\n      <Dialog open={isRejectModalOpen} onOpenChange={setIsRejectModalOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Reject Appointment</DialogTitle>\r\n            <DialogDescription>\r\n              Please provide a reason for rejecting this appointment\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            {appointmentToReject && (\r\n              <div className=\"p-4 bg-muted rounded-lg\">\r\n                <h4 className=\"font-medium\">\r\n                  {appointmentToReject.patient.firstName} {appointmentToReject.patient.lastName}\r\n                </h4>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {formatDate(appointmentToReject.appointmentDate)} at {formatTime(appointmentToReject.startTime)}\r\n                </p>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Service: {appointmentToReject.service.name}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <Label htmlFor=\"reject-reason\">Reason for rejection *</Label>\r\n              <textarea\r\n                id=\"reject-reason\"\r\n                value={rejectReason}\r\n                onChange={(e) => setRejectReason(e.target.value)}\r\n                className=\"w-full h-20 px-3 py-2 border border-input bg-background rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none\"\r\n                placeholder=\"Please explain why this appointment is being rejected...\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setIsRejectModalOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              variant=\"destructive\" \r\n              onClick={confirmRejectAppointment} \r\n              disabled={!rejectReason.trim() || isLoading}\r\n            >\r\n              <X className=\"h-4 w-4 mr-2\" />\r\n              {isLoading ? 'Rejecting...' : 'Reject Appointment'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppointmentManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}